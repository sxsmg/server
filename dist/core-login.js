/*! For license information please see core-login.js.LICENSE.txt */
!function(){var e,r,i,o={65358:function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(arguments.length<1)return"";var r=e.filter((function(t){return t.length>0}));if(r.length<1)return"";var i=r[r.length-1],o="/"===r[0].charAt(0),a="/"===i.charAt(i.length-1),s=r.reduce((function(t,e){return t.concat(e.split("/"))}),[]),u=!o,l=s.reduce((function(t,e){return""===e?t:u?(u=!1,t+e):t+"/"+e}),"");return a?l+"/":l}e.Ec=function(t){return t?t.split("/").map(encodeURIComponent).join("/"):t},e.EZ=function(t){return t.replace(/\\/g,"/").replace(/.*\//,"")},e.XX=function(t){return t.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")},e.RQ=r,e.Mg=function(t,e){var n=(t||"").split("/").filter((function(t){return"."!==t})),i=(e||"").split("/").filter((function(t){return"."!==t}));return(t=r.apply(void 0,n))===(e=r.apply(void 0,i))},n(21249),n(74916),n(23123),n(15306),n(57327),n(85827),n(92222)},87315:function(e,r,i){"use strict";var o={};i.r(o),i.d(o,{exclude:function(){return Xt},extract:function(){return Kt},parse:function(){return Zt},parseUrl:function(){return Gt},pick:function(){return Jt},stringify:function(){return Yt},stringifyUrl:function(){return Wt}});var a=i(20144),s=i(69183),u=i(59050),l=i(19755),c=i.n(l),f=i(64024),d=i(25108),p={updatableNotification:null,getDefaultNotificationFunction:null,setDefault:function(t){this.getDefaultNotificationFunction=t},hide:function(t,e){u.default.isFunction(t)&&(e=t,t=void 0),t?(t.each((function(){c()(this)[0].toastify?c()(this)[0].toastify.hideToast():d.error("cannot hide toast because object is not set"),this===this.updatableNotification&&(this.updatableNotification=null)})),e&&e.call(),this.getDefaultNotificationFunction&&this.getDefaultNotificationFunction()):d.error("Missing argument $row in OC.Notification.hide() call, caller needs to be adjusted to only dismiss its own notification")},showHtml:function(t,e){(e=e||{}).isHTML=!0,e.timeout=e.timeout?e.timeout:f.Rl;var n=(0,f.PV)(t,e);return n.toastElement.toastify=n,c()(n.toastElement)},show:function(t,e){(e=e||{}).timeout=e.timeout?e.timeout:f.Rl;var n=(0,f.PV)(function(t){return t.toString().split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;").split("'").join("&#039;")}(t),e);return n.toastElement.toastify=n,c()(n.toastElement)},showUpdate:function(t){return this.updatableNotification&&this.updatableNotification.hideToast(),this.updatableNotification=(0,f.PV)(t,{timeout:f.Rl}),this.updatableNotification.toastElement.toastify=this.updatableNotification,c()(this.updatableNotification.toastElement)},showTemporary:function(t,e){(e=e||{}).timeout=e.timeout||f.TN;var n=(0,f.PV)(t,e);return n.toastElement.toastify=n,c()(n.toastElement)},isHidden:function(){return!c()("#content").find(".toastify").length}},h=u.default.throttle((function(){p.showTemporary(t("core","Connection to server lost"))}),7e3,{trailing:!1}),m={enableDynamicSlideToggle:function(){},showAppSidebar:function(t){(t||c()("#app-sidebar")).removeClass("disappear").show(),c()("#app-content").trigger(new(c().Event)("appresized"))},hideAppSidebar:function(t){(t||c()("#app-sidebar")).hide().addClass("disappear"),c()("#app-content").trigger(new(c().Event)("appresized"))}},g=i(79753);function v(t,e,n){"post"!==t&&"delete"!==t||!jt.PasswordConfirmation.requiresPasswordConfirmation()?(n=n||{},c().ajax({type:t.toUpperCase(),url:(0,g.generateOcsUrl)("apps/provisioning_api/api/v1/config/apps")+e,data:n.data||{},success:n.success,error:n.error})):jt.PasswordConfirmation.requirePasswordConfirmation(_.bind(v,this,t,e,n))}var y=window.oc_appconfig||{},b={getValue:function(t,e,n,r){!function(t,e,n,r){(r=r||{}).data={defaultValue:n},v("get","/"+t+"/"+e,r)}(t,e,n,{success:r})},setValue:function(t,e,n){!function(t,e,n,r){(r=r||{}).data={value:n},v("post","/"+t+"/"+e,r)}(t,e,n)},getApps:function(t){!function(t){v("get","",t)}({success:t})},getKeys:function(t,e){!function(t,e){v("get","/"+t,e)}(t,{success:e})},deleteKey:function(t,e){!function(t,e,n){v("delete","/"+t+"/"+e,void 0)}(t,e)}},w=void 0!==window._oc_appswebroots&&window._oc_appswebroots,x=i(72316),A=i.n(x),C=i(76591),k=i(25108),P={create:"POST",update:"PROPPATCH",patch:"PROPPATCH",delete:"DELETE",read:"PROPFIND"};function E(t,e){if(u.default.isArray(t))return u.default.map(t,(function(t){return E(t,e)}));var n={href:t.href};return u.default.each(t.propStat,(function(t){if("HTTP/1.1 200 OK"===t.status)for(var r in t.properties){var i=r;r in e&&(i=e[r]),n[i]=t.properties[r]}})),n.id||(n.id=j(n.href)),n}function j(t){var e=t.indexOf("?");e>0&&(t=t.substr(0,e));var n,r=t.split("/");do{n=r[r.length-1],r.pop()}while(!n&&r.length>0);return n}function N(t){return t>=200&&t<=299}function O(t,e,n,r){return t.propPatch(e.url,function(t,e){var n,r={};for(n in t){var i=e[n],o=t[n];i||(k.warn('No matching DAV property for property "'+n),i=n),(u.default.isBoolean(o)||u.default.isNumber(o))&&(o=""+o),r[i]=o}return r}(n.changed,e.davProperties),r).then((function(t){N(t.status)?u.default.isFunction(e.success)&&e.success(n.toJSON()):u.default.isFunction(e.error)&&e.error(t)}))}var T=A().noConflict();Object.assign(T,{davCall:function(t,e){var n=new C.dav.Client({baseUrl:t.url,xmlNamespaces:u.default.extend({"DAV:":"d","http://owncloud.org/ns":"oc"},t.xmlNamespaces||{})});n.resolveUrl=function(){return t.url};var r=u.default.extend({"X-Requested-With":"XMLHttpRequest",requesttoken:OC.requestToken},t.headers);return"PROPFIND"===t.type?function(t,e,n,r){return t.propFind(e.url,u.default.values(e.davProperties)||[],e.depth,r).then((function(t){if(N(t.status)){if(u.default.isFunction(e.success)){var n=u.default.invert(e.davProperties),r=E(t.body,n);e.depth>0&&r.shift(),e.success(r)}}else u.default.isFunction(e.error)&&e.error(t)}))}(n,t,0,r):"PROPPATCH"===t.type?O(n,t,e,r):"MKCOL"===t.type?function(t,e,n,r){return t.request(e.type,e.url,r,null).then((function(i){N(i.status)?O(t,e,n,r):u.default.isFunction(e.error)&&e.error(i)}))}(n,t,e,r):function(t,e,n,r){return r["Content-Type"]="application/json",t.request(e.type,e.url,r,e.data).then((function(t){if(N(t.status)){if(u.default.isFunction(e.success)){if("PUT"===e.type||"POST"===e.type||"MKCOL"===e.type){var r=t.body||n.toJSON(),i=t.xhr.getResponseHeader("Content-Location");return"POST"===e.type&&i&&(r.id=j(i)),void e.success(r)}if(207===t.status){var o=u.default.invert(e.davProperties);e.success(E(t.body,o))}else e.success(t.body)}}else u.default.isFunction(e.error)&&e.error(t)}))}(n,t,e,r)},davSync:function(t){return function(e,n,r){var i={type:P[e]||e},o=n instanceof t.Collection;if("update"===e&&(n.hasInnerCollection?i.type="MKCOL":(n.usePUT||n.collection&&n.collection.usePUT)&&(i.type="PUT")),r.url||(i.url=u.default.result(n,"url")||function(){throw new Error('A "url" property or function must be specified')}()),null!=r.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(i.data=JSON.stringify(r.attrs||n.toJSON(r))),"PROPFIND"!==i.type&&(i.processData=!1),"PROPFIND"===i.type||"PROPPATCH"===i.type){var a=n.davProperties;!a&&n.model&&(a=n.model.prototype.davProperties),a&&(u.default.isFunction(a)?i.davProperties=a.call(n):i.davProperties=a),i.davProperties=u.default.extend(i.davProperties||{},r.davProperties),u.default.isUndefined(r.depth)&&(r.depth=o?1:0)}var s=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,s&&s.call(r.context,t,e,n)};var l=r.xhr=t.davCall(u.default.extend(i,r),n);return n.trigger("request",n,l,r),l}}(T)});var S=T,L=i(65358),I=window._oc_config||{},R=i(25108),F=x.Model.extend({defaults:{fullName:"",lastMessage:"",actions:[],hasOneAction:!1,hasTwoActions:!1,hasManyActions:!1},initialize:function(){0===this.get("actions").length?this.set("hasOneAction",!0):1===this.get("actions").length?(this.set("hasTwoActions",!0),this.set("secondAction",this.get("actions")[0])):this.set("hasManyActions",!0);var e=this.get("fullName");this.get("avatar")&&e&&this.set("avatarLabel",t("core","Avatar of {fullName}",{fullName:e}))}}),U=x.Collection.extend({model:F}),M=x.View.extend({_collection:void 0,_subViews:[],tagName:"ul",initialize:function(t){this._collection=t.collection},render:function(){var t=this;return t.$el.html(""),t._subViews=[],t._collection.forEach((function(e){var n=new B({model:e});n.render(),t.$el.append(n.$el),n.on("toggle:actionmenu",t._onChildActionMenuToggle,t),t._subViews.push(n)})),t},_onChildActionMenuToggle:function(t){this._subViews.forEach((function(e){e.trigger("parent:toggle:actionmenu",t)}))}}),B=x.View.extend({className:"contact",tagName:"li",_template:void 0,_model:void 0,_actionMenuShown:!1,events:{"click .icon-more":"_onToggleActionsMenu"},contactTemplate:i(10944),template:function(t){return this.contactTemplate(t)},initialize:function(t){this._model=t.model,this.on("parent:toggle:actionmenu",this._onOtherActionMenuOpened,this)},render:function(){return this.$el.html(this.template({contact:this._model.toJSON()})),this.delegateEvents(),this.$("div.avatar").imageplaceholder(this._model.get("fullName")),this},_onToggleActionsMenu:function(){this._actionMenuShown=!this._actionMenuShown,this._actionMenuShown?this.$(".menu").show():this.$(".menu").hide(),this.trigger("toggle:actionmenu",this.$el)},_onOtherActionMenuOpened:function(t){this.$el.is(t)||(this._actionMenuShown=!1,this.$(".menu").hide())}}),D=x.View.extend({_loadingTemplate:void 0,_errorTemplate:void 0,_contentTemplate:void 0,_contactsTemplate:void 0,_contacts:void 0,_searchTerm:"",events:{"input #contactsmenu-search":"_onSearch"},templates:{loading:i(95386),error:i(20421),menu:i(66115),list:i(34083)},_onSearch:u.default.debounce((function(t){var e=this.$("#contactsmenu-search").val();e!==this._searchTerm&&(this.trigger("search",this.$("#contactsmenu-search").val()),this._searchTerm=e)}),700),loadingTemplate:function(t){return this.templates.loading(t)},errorTemplate:function(e){return this.templates.error(u.default.extend({couldNotLoadText:t("core","Could not load your contacts")},e))},contentTemplate:function(e){return this.templates.menu(u.default.extend({searchContactsText:t("core","Search contacts …")},e))},contactsTemplate:function(e){return this.templates.list(u.default.extend({noContactsFoundText:t("core","No contacts found"),showAllContactsText:t("core","Show all contacts …"),contactsAppMgmtText:t("core","Install the Contacts app")},e))},initialize:function(t){this.options=t},showLoading:function(t){this.render(),this._contacts=void 0,this.$(".content").html(this.loadingTemplate({loadingText:t}))},showError:function(){this.render(),this._contacts=void 0,this.$(".content").html(this.errorTemplate())},showContacts:function(t,e){this._contacts=t.contacts,this.render({contacts:t.contacts});var n=new M({collection:t.contacts});n.render(),this.$(".content").html(this.contactsTemplate({contacts:t.contacts,searchTerm:e,contactsAppEnabled:t.contactsAppEnabled,contactsAppURL:jt.generateUrl("/apps/contacts"),canInstallApp:jt.isUserAdmin(),contactsAppMgmtURL:jt.generateUrl("/settings/apps/social/contacts")})),this.$("#contactsmenu-contacts").html(n.$el)},render:function(t){var e=this.$("#contactsmenu-search").val();return this.$el.html(this.contentTemplate(t)),this.$("#contactsmenu-search").val(e),this.$("#contactsmenu-search").focus(),this}}),$=function(t){this.initialize(t)};$.prototype={$el:void 0,_view:void 0,_contactsPromise:void 0,initialize:function(t){this.$el=c()(t.el),this._view=new D({el:this.$el}),this._view.on("search",(function(t){this.loadContacts(t)}),this)},_getContacts:function(t){var e=jt.generateUrl("/contactsmenu/contacts");return Promise.resolve(c().ajax(e,{method:"POST",data:{filter:t}}))},loadContacts:function(e){var n=this;return n._contactsPromise||(n._contactsPromise=n._getContacts(e)),u.default.isUndefined(e)||""===e?n._view.showLoading(t("core","Loading your contacts …")):n._view.showLoading(t("core","Looking for {term} …",{term:e})),n._contactsPromise.then((function(t){t.contacts=new U(t.contacts),n._view.showContacts(t,e)}),(function(t){n._view.showError(),R.error("There was an error loading your contacts",t)})).then((function(){delete n._contactsPromise})).catch(R.error.bind(this))}};var z=$,q=document.getElementsByTagName("head")[0].getAttribute("data-user"),H=document.getElementsByTagName("head")[0].getAttribute("data-user-displayname"),V=void 0!==q&&q,K=i(96384),Z=i(59546),Y=i(62520);function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}var W={YES_NO_BUTTONS:70,OK_BUTTONS:71,FILEPICKER_TYPE_CHOOSE:1,FILEPICKER_TYPE_MOVE:2,FILEPICKER_TYPE_COPY:3,FILEPICKER_TYPE_COPY_MOVE:4,FILEPICKER_TYPE_CUSTOM:5,dialogsCounter:0,alert:function(t,e,n,r){this.message(t,e,"alert",W.OK_BUTTON,n,r)},info:function(t,e,n,r){this.message(t,e,"info",W.OK_BUTTON,n,r)},confirm:function(t,e,n,r){return this.message(t,e,"notice",W.YES_NO_BUTTONS,n,r)},confirmDestructive:function(t,e,n,r,i){return this.message(t,e,"none",n,r,void 0===i||i)},confirmHtml:function(t,e,n,r){return this.message(t,e,"notice",W.YES_NO_BUTTONS,n,r,!0)},prompt:function(e,n,r,i,o,a){return c().when(this._getMessageTemplate()).then((function(s){var l="oc-dialog-"+W.dialogsCounter+"-content",f="#"+l,d=s.octemplate({dialog_name:l,title:n,message:e,type:"notice"}),p=c()("<input/>");p.attr("type",a?"password":"text").attr("id",l+"-input").attr("placeholder",o);var h=c()("<label/>").attr("for",l+"-input").text(o+": ");d.append(h),d.append(p),void 0===i&&(i=!1),c()("body").append(d),void 0!==r&&(r=u.default.once(r));var m=[{text:t("core","No"),click:function(){void 0!==r&&r(!1,p.val()),c()(f).ocdialog("close")}},{text:t("core","Yes"),click:function(){void 0!==r&&r(!0,p.val()),c()(f).ocdialog("close")},defaultButton:!0}];c()(f).ocdialog({closeOnEscape:!0,modal:i,buttons:m,close:function(){void 0!==r&&r(!1,p.val())}}),p.focus(),W.dialogsCounter++}))},filepicker:function(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:f.K9.Choose,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,l=function(t,e){var n=function(t){var e=(null==t?void 0:t.root)||"",n=(null==t?void 0:t.path)||"";return n.startsWith(e)&&(n=n.slice(e.length)||"/"),n};return i?function(r){return t(r.map(n),e)}:function(r){return t(n(r[0]),e)}},c=(0,f.fn)(e);a===this.FILEPICKER_TYPE_CUSTOM?(u.buttons||[]).forEach((function(t){c.addButton({callback:l(n,t.type),label:t.text,type:t.defaultButton?"primary":"secondary"})})):c.setButtonFactory((function(e,i){var o,s,u=[],c=(null==e||null===(o=e[0])||void 0===o||null===(o=o.attributes)||void 0===o?void 0:o.displayName)||(null==e||null===(s=e[0])||void 0===s?void 0:s.basename),d=c||(0,Y.basename)(i);return a===f.K9.Choose&&u.push({callback:l(n,f.K9.Choose),label:c&&!r.multiSelect?t("core","Choose {file}",{file:c}):t("core","Choose"),type:"primary"}),a!==f.K9.CopyMove&&a!==f.K9.Copy||u.push({callback:l(n,f.K9.Copy),label:d?t("core","Copy to {target}",{target:d}):t("core","Copy"),type:"primary",icon:Z}),a!==f.K9.Move&&a!==f.K9.CopyMove||u.push({callback:l(n,f.K9.Move),label:d?t("core","Move to {target}",{target:d}):t("core","Move"),type:a===f.K9.Move?"primary":"secondary",icon:K}),u})),o&&c.setMimeTypeFilter("string"==typeof o?[o]:o||[]),"function"==typeof(null==u?void 0:u.filter)&&c.setFilter((function(t){return u.filter(function(t){var e,n,r,i,o,a;return{id:t.fileid||null,path:t.path,mimetype:t.mime||null,mtime:(null===(e=t.mtime)||void 0===e?void 0:e.getTime())||null,permissions:t.permissions,name:(null===(n=t.attributes)||void 0===n?void 0:n.displayName)||t.basename,etag:(null===(r=t.attributes)||void 0===r?void 0:r.etag)||null,hasPreview:(null===(i=t.attributes)||void 0===i?void 0:i.hasPreview)||null,mountType:(null===(o=t.attributes)||void 0===o?void 0:o.mountType)||null,quotaAvailableBytes:(null===(a=t.attributes)||void 0===a?void 0:a.quotaAvailableBytes)||null,icon:null,sharePermissions:null}}(t))})),c.allowDirectories(!0===(null==u?void 0:u.allowDirectoryChooser)||(null==o?void 0:o.includes("httpd/unix-directory"))||!1).setMultiSelect(i).startAt(s).build().pick()},message:function(e,n,r,i,o,a,s){return c().when(this._getMessageTemplate()).then((function(u){var l="oc-dialog-"+W.dialogsCounter+"-content",f="#"+l,d=u.octemplate({dialog_name:l,title:n,message:e,type:r},s?{escapeFunction:""}:{});void 0===a&&(a=!1),c()("body").append(d);var p=[];switch(i){case W.YES_NO_BUTTONS:p=[{text:t("core","No"),click:function(){void 0!==o&&o(!1),c()(f).ocdialog("close")}},{text:t("core","Yes"),click:function(){void 0!==o&&o(!0),c()(f).ocdialog("close")},defaultButton:!0}];break;case W.OK_BUTTON:p[0]={text:t("core","OK"),click:function(){c()(f).ocdialog("close"),void 0!==o&&o()},defaultButton:!0};break;default:"object"===G(i)&&i.type===W.YES_NO_BUTTONS&&(p=[{text:i.cancel||t("core","No"),click:function(){void 0!==o&&o(!1),c()(f).ocdialog("close")}},{text:i.confirm||t("core","Yes"),click:function(){void 0!==o&&o(!0),c()(f).ocdialog("close")},defaultButton:!0,classes:i.confirmClasses}])}c()(f).ocdialog({closeOnEscape:!0,closeCallback:function(){o&&o(!1)},modal:a,buttons:p}),W.dialogsCounter++})).fail((function(r,i){0===r?alert(n+": "+e):alert(t("core","Error loading message template: {error}",{error:i}))}))},_fileexistsshown:!1,fileexists:function(e,r,i,o){var a=this,s=new(c().Deferred),u=function(t,e,n,r,i){r=Math.round(r),i=Math.round(i);for(var o=t.getContext("2d").getImageData(0,0,e,n),a=t.getContext("2d").getImageData(0,0,r,i),s=o.data,u=a.data,l=e/r,c=n/i,f=Math.ceil(l/2),d=Math.ceil(c/2),p=0;p<i;p++)for(var h=0;h<r;h++){for(var m=4*(h+p*r),g=0,v=0,y=0,b=0,w=0,x=0,A=0,_=(p+.5)*c,C=Math.floor(p*c);C<(p+1)*c;C++)for(var k=Math.abs(_-(C+.5))/d,P=(h+.5)*l,E=k*k,j=Math.floor(h*l);j<(h+1)*l;j++){var N=Math.abs(P-(j+.5))/f,O=Math.sqrt(E+N*N);O>=-1&&O<=1&&(g=2*O*O*O-3*O*O+1)>0&&(A+=g*s[3+(N=4*(j+C*e))],y+=g,s[N+3]<255&&(g=g*s[N+3]/250),b+=g*s[N],w+=g*s[N+1],x+=g*s[N+2],v+=g)}u[m]=b/v,u[m+1]=w/v,u[m+2]=x/v,u[m+3]=A/y}t.getContext("2d").clearRect(0,0,Math.max(e,r),Math.max(n,i)),t.width=r,t.height=i,t.getContext("2d").putImageData(a,0,0)},l=function(n,r,i){var o=n.find(".template").clone().removeClass("template").addClass("conflict"),a=o.find(".original"),s=o.find(".replacement");o.data("data",e),o.find(".filename").text(r.name),a.find(".size").text(jt.Util.humanFileSize(r.size)),a.find(".mtime").text(jt.Util.formatDate(r.mtime)),i.size&&i.lastModified&&(s.find(".size").text(jt.Util.humanFileSize(i.size)),s.find(".mtime").text(jt.Util.formatDate(i.lastModified)));var l=r.directory+"/"+r.name,f={file:l,x:96,y:96,c:r.etag,forceIcon:0},d=Files.generatePreviewUrl(f);d=d.replace(/'/g,"%27"),a.find(".icon").css({"background-image":"url('"+d+"')"}),function(t){var e=new(c().Deferred),n=t.type&&t.type.split("/").shift();if(window.FileReader&&"image"===n){var r=new FileReader;r.onload=function(t){var n=new Blob([t.target.result]);window.URL=window.URL||window.webkitURL;var r=window.URL.createObjectURL(n),i=new Image;i.src=r,i.onload=function(){var t,n,r,o,a,s,l,c=(t=i,a=document.createElement("canvas"),s=t.width,l=t.height,s>l?(r=0,n=(s-l)/2):(r=(l-s)/2,n=0),o=Math.min(s,l),a.width=o,a.height=o,a.getContext("2d").drawImage(t,n,r,o,o,0,0,o,o),u(a,o,o,96,96),a.toDataURL("image/png",.7));e.resolve(c)}},r.readAsArrayBuffer(t)}else e.reject();return e}(i).then((function(t){s.find(".icon").css("background-image","url("+t+")")}),(function(){l=jt.MimeType.getIconUrl(i.type),s.find(".icon").css("background-image","url("+l+")")}));var p=n.find(".conflict").length;a.find("input:checkbox").attr("id","checkbox_original_"+p),s.find("input:checkbox").attr("id","checkbox_replacement_"+p),n.append(o),i.lastModified>r.mtime?s.find(".mtime").css("font-weight","bold"):i.lastModified<r.mtime&&a.find(".mtime").css("font-weight","bold"),i.size&&i.size>r.size?s.find(".size").css("font-weight","bold"):i.size&&i.size<r.size&&a.find(".size").css("font-weight","bold"),"readonly"===r.status&&(a.addClass("readonly").find('input[type="checkbox"]').prop("checked",!0).prop("disabled",!0),a.find(".message").text(t("core","read-only")))},f="oc-dialog-fileexists-content",d="#"+f;if(this._fileexistsshown){var p=c()(d+" .conflicts");l(p,r,i);var h=c()(d+" .conflict").length,m=n("core","{count} file conflict","{count} file conflicts",h,{count:h});c()(d).parent().children(".oc-dialog-title").text(m),c()(window).trigger("resize"),s.resolve()}else this._fileexistsshown=!0,c().when(this._getFileExistsTemplate()).then((function(n){var u=t("core","One file conflict"),p=n.octemplate({dialog_name:f,title:u,type:"fileexists",allnewfiles:t("core","New Files"),allexistingfiles:t("core","Already existing files"),why:t("core","Which files do you want to keep?"),what:t("core","If you select both versions, the copied file will have a number added to its name.")});if(c()("body").append(p),r&&i){var h=p.find(".conflicts");l(h,r,i)}var m=[{text:t("core","Cancel"),classes:"cancel",click:function(){void 0!==o.onCancel&&o.onCancel(e),c()(d).ocdialog("close")}},{text:t("core","Continue"),classes:"continue",click:function(){void 0!==o.onContinue&&o.onContinue(c()(d+" .conflict")),c()(d).ocdialog("close")}}];c()(d).ocdialog({width:500,closeOnEscape:!0,modal:!0,buttons:m,closeButton:null,close:function(){a._fileexistsshown=!1;try{c()(this).ocdialog("destroy").remove()}catch(t){}}}),c()(d).css("height","auto");var g=p.closest(".oc-dialog").find("button.continue");function v(){var t=p.find(".conflicts .checkbox:checked").length;g.prop("disabled",0===t)}g.prop("disabled",!0),c()(d).find(".allnewfiles").on("click",(function(){c()(d).find('.conflict .replacement input[type="checkbox"]').prop("checked",c()(this).prop("checked"))})),c()(d).find(".allexistingfiles").on("click",(function(){c()(d).find('.conflict .original:not(.readonly) input[type="checkbox"]').prop("checked",c()(this).prop("checked"))})),c()(d).find(".conflicts").on("click",".replacement,.original:not(.readonly)",(function(){var t=c()(this).find('input[type="checkbox"]');t.prop("checked",!t.prop("checked"))})),c()(d).find(".conflicts").on("click",'.replacement input[type="checkbox"],.original:not(.readonly) input[type="checkbox"]',(function(){var t=c()(this);t.prop("checked",!t.prop("checked"))})),c()(d).on("click",".replacement,.allnewfiles",(function(){var e=c()(d).find('.conflict .replacement input[type="checkbox"]:checked').length;e===c()(d+" .conflict").length?(c()(d).find(".allnewfiles").prop("checked",!0),c()(d).find(".allnewfiles + .count").text(t("core","(all selected)"))):e>0?(c()(d).find(".allnewfiles").prop("checked",!1),c()(d).find(".allnewfiles + .count").text(t("core","({count} selected)",{count:e}))):(c()(d).find(".allnewfiles").prop("checked",!1),c()(d).find(".allnewfiles + .count").text("")),v()})),c()(d).on("click",".original,.allexistingfiles",(function(){var e=c()(d).find('.conflict .original input[type="checkbox"]:checked').length;e===c()(d+" .conflict").length?(c()(d).find(".allexistingfiles").prop("checked",!0),c()(d).find(".allexistingfiles + .count").text(t("core","(all selected)"))):e>0?(c()(d).find(".allexistingfiles").prop("checked",!1),c()(d).find(".allexistingfiles + .count").text(t("core","({count} selected)",{count:e}))):(c()(d).find(".allexistingfiles").prop("checked",!1),c()(d).find(".allexistingfiles + .count").text("")),v()})),s.resolve()})).fail((function(){s.reject(),alert(t("core","Error loading file exists template"))}));return s.promise()},_getMessageTemplate:function(){var t=c().Deferred();if(this.$messageTemplate)t.resolve(this.$messageTemplate);else{var e=this;c().get(jt.filePath("core","templates","message.html"),(function(n){e.$messageTemplate=c()(n),t.resolve(e.$messageTemplate)})).fail((function(e,n,r){t.reject(e.status,r)}))}return t.promise()},_getFileExistsTemplate:function(){var t=c().Deferred();if(this.$fileexistsTemplate)t.resolve(this.$fileexistsTemplate);else{var e=this;c().get(jt.filePath("files","templates","fileexists.html"),(function(n){e.$fileexistsTemplate=c()(n),t.resolve(e.$fileexistsTemplate)})).fail((function(){t.reject()}))}return t.promise()}},J=W,X=function(t,e){var n=t.getElementsByTagName("head")[0].getAttribute("data-requesttoken");return{getToken:function(){return n},setToken:function(t){e("csrf-token-update",{token:n=t})}}}(document,s.j8),Q=X.getToken,tt=(X.setToken,function t(e,n){var r,i,o="";if(this.typelessListeners=[],this.closed=!1,this.listeners={},n)for(r in n)o+=r+"="+encodeURIComponent(n[r])+"&";if(o+="requesttoken="+encodeURIComponent(Q()),this.useFallBack||"undefined"==typeof EventSource){var a="oc_eventsource_iframe_"+t.iframeCount;t.fallBackSources[t.iframeCount]=this,this.iframe=c()("<iframe></iframe>"),this.iframe.attr("id",a),this.iframe.hide(),i="&",-1===e.indexOf("?")&&(i="?"),this.iframe.attr("src",e+i+"fallback=true&fallback_id="+t.iframeCount+"&"+o),c()("body").append(this.iframe),this.useFallBack=!0,t.iframeCount++}else i="&",-1===e.indexOf("?")&&(i="?"),this.source=new EventSource(e+i+o),this.source.onmessage=function(t){for(var e=0;e<this.typelessListeners.length;e++)this.typelessListeners[e](JSON.parse(t.data))}.bind(this);this.listen("__internal__",function(t){"close"===t&&this.close()}.bind(this))});tt.fallBackSources=[],tt.iframeCount=0,tt.fallBackCallBack=function(t,e,n){tt.fallBackSources[t].fallBackCallBack(e,n)},tt.prototype={typelessListeners:[],iframe:null,listeners:{},useFallBack:!1,fallBackCallBack:function(t,e){var n;if(!this.closed)if(t){if(void 0!==this.listeners.done)for(n=0;n<this.listeners[t].length;n++)this.listeners[t][n](e)}else for(n=0;n<this.typelessListeners.length;n++)this.typelessListeners[n](e)},lastLength:0,listen:function(t,e){e&&e.call&&(t?this.useFallBack?(this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)):this.source.addEventListener(t,(function(t){void 0!==t.data?e(JSON.parse(t.data)):e("")}),!1):this.typelessListeners.push(e))},close:function(){this.closed=!0,void 0!==this.source&&this.source.close()}};var et=tt,nt=i(42515),rt=i(25108),it=null,ot=null,at=function(t){if(it){var e=it;it.trigger(new(c().Event)("beforeHide")),it.slideUp(50,(function(){e.trigger(new(c().Event)("afterHide")),t&&t.apply(this,arguments)}))}c()(".menutoggle").attr("aria-expanded",!1),ot&&ot.attr("aria-expanded",!1),c()(".openedMenu").removeClass("openedMenu"),it=null,ot=null},st=!!window._oc_isadmin,ut=i(40202),lt=i.n(ut),ct=i(31352),ft={load:ct.XJ,register:ct.z2,_unregister:ct.ET,translate:ct.Iu,translatePlural:ct.uN};lt().registerHelper("t",(function(t,e){return(0,ct.Iu)(t,e)}));var dt={startSaving:function(e){this.startAction(e,t("core","Saving …"))},startAction:function(t,e){c()(t).text(e).removeClass("success").removeClass("error").stop(!0,!0).show()},finishedSaving:function(t,e){this.finishedAction(t,e)},finishedAction:function(t,e){"success"===e.status?this.finishedSuccess(t,e.data.message):this.finishedError(t,e.data.message)},finishedSuccess:function(t,e){c()(t).text(e).addClass("success").removeClass("error").stop(!0,!0).delay(3e3).fadeOut(900).show()},finishedError:function(t,e){c()(t).text(e).addClass("error").removeClass("success").show()}},pt=i(30381),ht=i.n(pt),mt={callback:null,pageLoadTime:null,init:function(){c()(".password-confirm-required").on("click",u.default.bind(this.requirePasswordConfirmation,this)),this.pageLoadTime=ht().now()},requiresPasswordConfirmation:function(){var t=this.pageLoadTime-1e3*window.nc_pageLoad,e=ht().now()-(t+1e3*window.nc_lastLogin);return window.backendAllowsPasswordConfirmation&&e>18e5},requirePasswordConfirmation:function(e,n,r){n=void 0!==n?n:{};var i={title:t("core","Authentication required"),text:t("core","This action requires you to confirm your password"),confirm:t("core","Confirm"),label:t("core","Password"),error:""},o=u.default.extend(i,n),a=this;this.requiresPasswordConfirmation()&&jt.dialogs.prompt(o.text,o.title,(function(t,e){t&&""!==e?a._confirmPassword(e,o):u.default.isFunction(r)&&r()}),!0,o.label,!0).then((function(){var t=c()(".oc-dialog:visible");if(t.find(".ui-icon").remove(),t.addClass("password-confirmation"),""!==o.error){var e=c()("<p></p>").addClass("msg warning").text(o.error);t.find(".oc-dialog-content").append(e)}var n=t.find(".oc-dialog-buttonrow");n.addClass("aside");var r=n.find("button");r.eq(0).hide(),r.eq(1).text(o.confirm)})),this.callback=e},_confirmPassword:function(e,n){var r=this;c().ajax({url:(0,g.generateUrl)("/login/confirm"),data:{password:e},type:"POST",success:function(t){window.nc_lastLogin=t.lastLogin,u.default.isFunction(r.callback)&&r.callback()},error:function(){n.error=t("core","Failed to authenticate, try again"),jt.PasswordConfirmation.requirePasswordConfirmation(r.callback,n)}})}},gt=window._theme||{},vt={_handlers:[],_pushState:function(t,e,n){var r;if(r="string"==typeof t?t:jt.buildQueryString(t),window.history.pushState){if(e=e||location.pathname+"?"+r,navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&parseInt(navigator.userAgent.split("/").pop())<51)for(var i,o=document.querySelectorAll('[fill^="url(#"], [stroke^="url(#"], [filter^="url(#invert"]'),a=0,s=o.length;a<s;a++)(i=o[a]).style.fill=i.style.fill,i.style.stroke=i.style.stroke,i.removeAttribute("filter"),i.setAttribute("filter","url(#invert)");n?window.history.replaceState(t,"",e):window.history.pushState(t,"",e)}else window.location.hash="?"+r,this._cancelPop=!0},pushState:function(t,e){this._pushState(t,e,!1)},replaceState:function(t,e){this._pushState(t,e,!0)},addOnPopStateHandler:function(t){this._handlers.push(t)},_parseHashQuery:function(){var t=window.location.hash,e=t.indexOf("?");return e>=0?t.substr(e+1):t.length?t.substr(1):""},_decodeQuery:function(t){return t.replace(/\+/g," ")},parseUrlQuery:function(){var t,e=this._parseHashQuery();return e&&(t=jt.parseQueryString(this._decodeQuery(e))),(t=u.default.extend(t||{},jt.parseQueryString(this._decodeQuery(location.search))))||{}},_onPopState:function(t){var e;if(this._cancelPop)this._cancelPop=!1;else if(this._handlers.length){e=t&&t.state,u.default.isString(e)?e=jt.parseQueryString(e):e||(e=this.parseUrlQuery()||{});for(var n=0;n<this._handlers.length;n++)this._handlers[n](e)}}},yt=i(5656),bt=i(25108);function wt(t){for(var e,n=[],r=0,i=-1,o=0;r<t.length;){e=t.charAt(r);var a=!o&&"."===e||e>="0"&&e<="9";a!==o&&(n[++i]="",o=a),n[i]+=e,r++}return n}var xt={History:vt,humanFileSize:yt.sS,computerFileSize:function(t){if("string"!=typeof t)return null;var e=t.toLowerCase().trim(),n=null,r=e.match(/^[\s+]?([0-9]*)(\.([0-9]+))?( +)?([kmgtp]?b?)$/i);return null===r?null:(n=parseFloat(e),isFinite(n)?(r[5]&&(n*={b:1,k:1024,kb:1024,mb:1048576,m:1048576,gb:1073741824,g:1073741824,tb:1099511627776,t:1099511627776,pb:0x4000000000000,p:0x4000000000000}[r[5]]),n=Math.round(n)):null)},formatDate:function(t,e){return void 0===window.TESTING&&jt.debug&&bt.warn("OC.Util.formatDate is deprecated and will be removed in Nextcloud 21. See @nextcloud/moment"),e=e||"LLL",ht()(t).format(e)},relativeModifiedDate:function(e){void 0===window.TESTING&&jt.debug&&bt.warn("OC.Util.relativeModifiedDate is deprecated and will be removed in Nextcloud 21. See @nextcloud/moment");var n=ht()().diff(ht()(e));return n>=0&&n<45e3?t("core","seconds ago"):ht()(e).fromNow()},getScrollBarWidth:function(){if(this._scrollBarWidth)return this._scrollBarWidth;var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var r=t.offsetWidth;return n===r&&(r=e.clientWidth),document.body.removeChild(e),this._scrollBarWidth=n-r,this._scrollBarWidth},stripTime:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},naturalSortCompare:function(t,e){var n,r=wt(t),i=wt(e);for(n=0;r[n]&&i[n];n++)if(r[n]!==i[n]){var o=Number(r[n]),a=Number(i[n]);return o==r[n]&&a==i[n]?o-a:r[n].localeCompare(i[n],jt.getLanguage())}return r.length-i.length},waitFor:function(t,e){!function n(){!0!==t()&&setTimeout(n,e)}()},isCookieSetToValue:function(t,e){for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r].split("=");if(i[0].trim()===t&&i[1].trim()===e)return!0}return!1}},At=window._oc_debug,_t=window._oc_webroot;if(void 0===_t){var Ct=(_t=location.pathname).indexOf("/index.php/");_t=-1!==Ct?_t.substr(0,Ct):_t.substr(0,_t.lastIndexOf("/"))}var kt,Pt=_t,Et=i(25108),jt={coreApps:["","admin","log","core/search","core","3rdparty"],menuSpeed:50,PERMISSION_ALL:31,PERMISSION_CREATE:4,PERMISSION_DELETE:8,PERMISSION_NONE:0,PERMISSION_READ:1,PERMISSION_SHARE:16,PERMISSION_UPDATE:2,TAG_FAVORITE:"_$!<Favorite>!$_",fileIsBlacklisted:function(t){return!!t.match(I.blacklist_files_regex)},Apps:m,AppConfig:b,appConfig:y,appswebroots:w,Backbone:S,ContactsMenu:z,config:I,currentUser:V,dialogs:J,EventSource:et,getCurrentUser:function(){return{uid:V,displayName:H}},isUserAdmin:function(){return st},L10N:ft,_ajaxConnectionLostHandler:h,_processAjaxError:function(t){(0!==t.status||"abort"!==t.statusText&&"timeout"!==t.statusText&&!jt._reloadCalled)&&(u.default.contains([302,303,307,401],t.status)&&jt.currentUser?setTimeout((function(){if(!jt._userIsNavigatingAway&&!jt._reloadCalled){var t=0,e=setInterval((function(){p.showUpdate(n("core","Problem loading page, reloading in %n second","Problem loading page, reloading in %n seconds",5-t)),t>=5&&(clearInterval(e),jt.reload()),t++}),1e3);jt._reloadCalled=!0}}),100):0===t.status&&setTimeout((function(){jt._userIsNavigatingAway||jt._reloadCalled||jt._ajaxConnectionLostHandler()}),100))},registerXHRForErrorProcessing:function(t){t.addEventListener&&(t.addEventListener("load",(function(){4===t.readyState&&(t.status>=200&&t.status<300||304===t.status||c()(document).trigger(new(c().Event)("ajaxError"),t))})),t.addEventListener("error",(function(){c()(document).trigger(new(c().Event)("ajaxError"),t)})))},getCapabilities:function(){return OC.debug&&rt.warn("OC.getCapabilities is deprecated and will be removed in Nextcloud 21. See @nextcloud/capabilities"),(0,nt.getCapabilities)()},hideMenus:at,registerMenu:function(t,e,n,r){e.addClass("menu");var i="A"===t.prop("tagName")||"BUTTON"===t.prop("tagName");t.on(i?"click.menu":"click.menu keyup.menu",(function(i){i.preventDefault(),i.key&&"Enter"!==i.key||(e.is(it)?at():(it&&at(),!0===r&&e.parent().addClass("openedMenu"),t.attr("aria-expanded",!0),e.slideToggle(50,n),it=e,ot=t))}))},showMenu:function(t,e,n){e.is(it)||(at(),it=e,ot=t,e.trigger(new(c().Event)("beforeShow")),e.show(),e.trigger(new(c().Event)("afterShow")),u.default.isFunction(n)&&n())},unregisterMenu:function(t,e){e.is(it)&&at(),t.off("click.menu").removeClass("menutoggle"),e.removeClass("menu")},basename:L.EZ,encodePath:L.Ec,dirname:L.XX,isSamePath:L.Mg,joinPaths:L.RQ,getHost:function(){return window.location.host},getHostName:function(){return window.location.hostname},getPort:function(){return window.location.port},getProtocol:function(){return window.location.protocol.split(":")[0]},getCanonicalLocale:ct.aj,getLocale:ct.Kd,getLanguage:ct.G3,buildQueryString:function(t){return t?c().map(t,(function(t,e){var n=encodeURIComponent(e);return null!=t&&(n+="="+encodeURIComponent(t)),n})).join("&"):""},parseQueryString:function(t){var e,n,r,i={};if(!t)return null;(e=t.indexOf("?"))>=0&&(t=t.substr(e+1));for(var o=t.replace(/\+/g,"%20").split("&"),a=0;a<o.length;a++){var s=o[a];(n=(e=s.indexOf("="))>=0?[s.substr(0,e),s.substr(e+1)]:[s]).length&&(r=decodeURIComponent(n[0]))&&(i[r]=n.length>1?decodeURIComponent(n[1]):null)}return i},msg:dt,Notification:p,PasswordConfirmation:mt,Plugins:{_plugins:{},register:function(t,e){var n=this._plugins[t];n||(n=this._plugins[t]=[]),n.push(e)},getPlugins:function(t){return this._plugins[t]||[]},attach:function(t,e,n){for(var r=this.getPlugins(t),i=0;i<r.length;i++)r[i].attach&&r[i].attach(e,n)},detach:function(t,e,n){for(var r=this.getPlugins(t),i=0;i<r.length;i++)r[i].detach&&r[i].detach(e,n)}},theme:gt,Util:xt,debug:At,filePath:g.generateFilePath,generateUrl:g.generateUrl,get:(kt=window,function(t){for(var e=t.split("."),n=e.pop(),r=0;r<e.length;r++)if(!(kt=kt[e[r]]))return!1;return kt[n]}),set:function(t){return function(e,n){for(var r=e.split("."),i=r.pop(),o=0;o<r.length;o++)t[r[o]]||(t[r[o]]={}),t=t[r[o]];return t[i]=n,n}}(window),getRootPath:g.getRootUrl,imagePath:g.imagePath,redirect:function(t){window.location=t},reload:function(){window.location.reload()},requestToken:Q(),linkTo:g.linkTo,linkToOCS:function(t,e){return(0,g.generateOcsUrl)(t,{},{ocsVersion:e||1})+"/"},linkToRemote:g.generateRemoteUrl,linkToRemoteBase:function(t){return(0,g.getRootUrl)()+"/remote.php/"+t},webroot:Pt};(0,s.Ld)("csrf-token-update",(function(t){OC.requestToken=t.token,Et.info("OC.requestToken changed",t.token)}));var Nt=i(43554);const Ot="%[a-f0-9]{2}",Tt=new RegExp("("+Ot+")|([^%]+?)","gi"),St=new RegExp("("+Ot+")+","gi");function Lt(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(1===t.length)return t;e=e||1;const n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],Lt(n),Lt(r))}function It(t){try{return decodeURIComponent(t)}catch{let e=t.match(Tt)||[];for(let n=1;n<e.length;n++)e=(t=Lt(e,n).join("")).match(Tt)||[];return t}}function Rt(t,e){if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===t||""===e)return[];const n=t.indexOf(e);return-1===n?[]:[t.slice(0,n),t.slice(n+e.length)]}function Ft(t,e){const n={};if(Array.isArray(e))for(const r of e){const e=Object.getOwnPropertyDescriptor(t,r);e?.enumerable&&Object.defineProperty(n,r,e)}else for(const r of Reflect.ownKeys(t)){const i=Object.getOwnPropertyDescriptor(t,r);i.enumerable&&e(r,t[r],t)&&Object.defineProperty(n,r,i)}return n}const Ut=t=>null==t,Mt=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)),Bt=Symbol("encodeFragmentIdentifier");function Dt(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function $t(t,e){return e.encode?e.strict?Mt(t):encodeURIComponent(t):t}function zt(t,e){return e.decode?function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return decodeURIComponent(t)}catch{return function(t){const e={"%FE%FF":"��","%FF%FE":"��"};let n=St.exec(t);for(;n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{const t=It(n[0]);t!==n[0]&&(e[n[0]]=t)}n=St.exec(t)}e["%C2"]="�";const r=Object.keys(e);for(const n of r)t=t.replace(new RegExp(n,"g"),e[n]);return t}(t)}}(t):t}function qt(t){return Array.isArray(t)?t.sort():"object"==typeof t?qt(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function Ht(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function Vt(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function Kt(t){const e=(t=Ht(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function Zt(t,e){Dt((e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e}).arrayFormatSeparator);const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,r)=>{e=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return(t,n,r)=>{e=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),e?void 0!==r[t]?r[t]=[...r[t],n]:r[t]=[n]:r[t]=n};case"colon-list-separator":return(t,n,r)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==r[t]?r[t]=[...r[t],n]:r[t]=[n]:r[t]=n};case"comma":case"separator":return(e,n,r)=>{const i="string"==typeof n&&n.includes(t.arrayFormatSeparator),o="string"==typeof n&&!i&&zt(n,t).includes(t.arrayFormatSeparator);n=o?zt(n,t):n;const a=i||o?n.split(t.arrayFormatSeparator).map((e=>zt(e,t))):null===n?n:zt(n,t);r[e]=a};case"bracket-separator":return(e,n,r)=>{const i=/(\[])$/.test(e);if(e=e.replace(/\[]$/,""),!i)return void(r[e]=n?zt(n,t):n);const o=null===n?[]:n.split(t.arrayFormatSeparator).map((e=>zt(e,t)));void 0!==r[e]?r[e]=[...r[e],...o]:r[e]=o};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[...[n[t]].flat(),e]:n[t]=e}}}(e),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const i of t.split("&")){if(""===i)continue;const t=e.decode?i.replace(/\+/g," "):i;let[o,a]=Rt(t,"=");void 0===o&&(o=t),a=void 0===a?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:zt(a,e),n(zt(o,e),a,r)}for(const[t,n]of Object.entries(r))if("object"==typeof n&&null!==n)for(const[t,r]of Object.entries(n))n[t]=Vt(r,e);else r[t]=Vt(n,e);return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce(((t,e)=>{const n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=qt(n):t[e]=n,t}),Object.create(null))}function Yt(t,e){if(!t)return"";Dt((e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e}).arrayFormatSeparator);const n=n=>e.skipNull&&Ut(t[n])||e.skipEmptyString&&""===t[n],r=function(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const i=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[$t(e,t),"[",i,"]"].join("")]:[...n,[$t(e,t),"[",$t(i,t),"]=",$t(r,t)].join("")]};case"bracket":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[$t(e,t),"[]"].join("")]:[...n,[$t(e,t),"[]=",$t(r,t)].join("")];case"colon-list-separator":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[$t(e,t),":list="].join("")]:[...n,[$t(e,t),":list=",$t(r,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return n=>(r,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:(i=null===i?"":i,0===r.length?[[$t(n,t),e,$t(i,t)].join("")]:[[r,$t(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,$t(e,t)]:[...n,[$t(e,t),"=",$t(r,t)].join("")]}}(e),i={};for(const[e,r]of Object.entries(t))n(e)||(i[e]=r);const o=Object.keys(i);return!1!==e.sort&&o.sort(e.sort),o.map((n=>{const i=t[n];return void 0===i?"":null===i?$t(n,e):Array.isArray(i)?0===i.length&&"bracket-separator"===e.arrayFormat?$t(n,e)+"[]":i.reduce(r(n),[]).join("&"):$t(n,e)+"="+$t(i,e)})).filter((t=>t.length>0)).join("&")}function Gt(t,e){e={decode:!0,...e};let[n,r]=Rt(t,"#");return void 0===n&&(n=t),{url:n?.split("?")?.[0]??"",query:Zt(Kt(t),e),...e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:zt(r,e)}:{}}}function Wt(t,e){e={encode:!0,strict:!0,[Bt]:!0,...e};const n=Ht(t.url).split("?")[0]||"";let r=Yt({...Zt(Kt(t.url),{sort:!1}),...t.query},e);r&&(r=`?${r}`);let i=function(t){let e="";const n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url);if(t.fragmentIdentifier){const r=new URL(n);r.hash=t.fragmentIdentifier,i=e[Bt]?r.hash:`#${t.fragmentIdentifier}`}return`${n}${r}${i}`}function Jt(t,e,n){n={parseFragmentIdentifier:!0,[Bt]:!1,...n};const{url:r,query:i,fragmentIdentifier:o}=Gt(t,n);return Wt({url:r,query:Ft(i,e),fragmentIdentifier:o},n)}function Xt(t,e,n){return Jt(t,Array.isArray(e)?t=>!e.includes(t):(t,n)=>!e(t,n),n)}var Qt=o,te=i(22660),ee=i.n(te),ne=i(10204),re=i.n(ne),ie=i(57290),oe=i.n(ie),ae=i(10861),se=i.n(ae),ue={name:"LoginButton",components:{ArrowRight:i(39429).default,NcButton:se()},props:{value:{type:String,default:t("core","Log in")},valueLoading:{type:String,default:t("core","Logging in …")},loading:{type:Boolean,required:!0},invertedColors:{type:Boolean,default:!1}}},le=i(93379),ce=i.n(le),fe=i(7795),de=i.n(fe),pe=i(90569),he=i.n(pe),me=i(3565),ge=i.n(me),ve=i(19216),ye=i.n(ve),be=i(44589),we=i.n(be),xe=i(76515),Ae={};Ae.styleTagTransform=we(),Ae.setAttributes=ge(),Ae.insert=he().bind(null,"head"),Ae.domAPI=de(),Ae.insertStyleElement=ye(),ce()(xe.Z,Ae),xe.Z&&xe.Z.locals&&xe.Z.locals;var _e=i(51900),Ce=(0,_e.Z)(ue,(function(){var t=this,e=t._self._c;return e("NcButton",{attrs:{type:"primary","native-type":"submit",wide:!0},on:{click:function(e){return t.$emit("click")}},scopedSlots:t._u([{key:"icon",fn:function(){return[t.loading?e("div",{staticClass:"submit-wrapper__icon icon-loading-small-dark"}):e("ArrowRight",{staticClass:"submit-wrapper__icon"})]},proxy:!0}])},[t._v("\n\t"+t._s(t.loading?t.valueLoading:t.value)+"\n\t")])}),[],!1,null,"3fa8511b",null).exports,ke={name:"LoginForm",components:{LoginButton:Ce,NcPasswordField:ee(),NcTextField:re(),NcNoteCard:oe()},props:{username:{type:String,default:""},redirectUrl:{type:[String,Boolean],default:!1},errors:{type:Array,default:function(){return[]}},messages:{type:Array,default:function(){return[]}},throttleDelay:{type:Number,default:0},autoCompleteAllowed:{type:Boolean,default:!0},directLogin:{type:Boolean,default:!1}},data:function(){var e;return{loading:!1,timezone:null===(e=new Intl.DateTimeFormat)||void 0===e||null===(e=e.resolvedOptions())||void 0===e?void 0:e.timeZone,timezoneOffset:-(new Date).getTimezoneOffset()/60,headline:t("core","Log in to {productName}",{productName:OC.theme.name}),user:"",password:""}},computed:{isError:function(){return this.invalidPassword||this.userDisabled||this.throttleDelay>5e3},errorLabel:function(){return this.invalidPassword?t("core","Wrong username or password."):this.userDisabled?t("core","User disabled"):this.throttleDelay>5e3?t("core","We have detected multiple invalid login attempts from your IP. Therefore your next login is throttled up to 30 seconds."):void 0},apacheAuthFailed:function(){return-1!==this.errors.indexOf("apacheAuthFailed")},internalException:function(){return-1!==this.errors.indexOf("internalexception")},invalidPassword:function(){return-1!==this.errors.indexOf("invalidpassword")},userDisabled:function(){return-1!==this.errors.indexOf("userdisabled")},loadingIcon:function(){return(0,g.imagePath)("core","loading-dark.gif")},loginActionUrl:function(){return(0,g.generateUrl)("login")}},mounted:function(){""===this.username?this.$refs.user.$refs.inputField.$refs.input.focus():(this.user=this.username,this.$refs.password.$refs.inputField.$refs.input.focus())},methods:{updateUsername:function(){this.$emit("update:username",this.user)},submit:function(){this.loading=!0,this.$emit("submit")}}},Pe=i(70934),Ee={};Ee.styleTagTransform=we(),Ee.setAttributes=ge(),Ee.insert=he().bind(null,"head"),Ee.domAPI=de(),Ee.insertStyleElement=ye(),ce()(Pe.Z,Ee),Pe.Z&&Pe.Z.locals&&Pe.Z.locals;var je=(0,_e.Z)(ke,(function(){var t=this,e=t._self._c;return e("form",{ref:"loginForm",staticClass:"login-form",attrs:{method:"post",name:"login",action:t.loginActionUrl},on:{submit:t.submit}},[e("fieldset",{staticClass:"login-form__fieldset",attrs:{"data-login-form":""}},[t.apacheAuthFailed?e("NcNoteCard",{attrs:{title:t.t("core","Server side authentication failed!"),type:"warning"}},[t._v("\n\t\t\t"+t._s(t.t("core","Please contact your administrator."))+"\n\t\t")]):t._e(),t._v(" "),t.messages.length>0?e("NcNoteCard",t._l(t.messages,(function(n,r){return e("div",{key:r},[t._v("\n\t\t\t\t"+t._s(n)),e("br")])})),0):t._e(),t._v(" "),t.internalException?e("NcNoteCard",{class:t.t("core","An internal error occurred."),attrs:{type:"warning"}},[t._v("\n\t\t\t"+t._s(t.t("core","Please try again or contact your administrator."))+"\n\t\t")]):t._e(),t._v(" "),e("div",{staticClass:"hidden",attrs:{id:"message"}},[e("img",{staticClass:"float-spinner",attrs:{alt:"",src:t.loadingIcon}}),t._v(" "),e("span",{attrs:{id:"messageText"}}),t._v(" "),e("div",{staticStyle:{clear:"both"}})]),t._v(" "),e("h2",{staticClass:"login-form__headline",attrs:{"data-login-form-headline":""},domProps:{innerHTML:t._s(t.headline)}}),t._v(" "),e("NcTextField",{ref:"user",class:{shake:t.invalidPassword},attrs:{id:"user",label:t.t("core","Account name or email"),"label-visible":!0,name:"user",value:t.user,autocapitalize:"none",spellchecking:!1,autocomplete:t.autoCompleteAllowed?"username":"off",required:"","data-login-form-input-user":""},on:{"update:value":function(e){t.user=e},change:t.updateUsername}}),t._v(" "),e("NcPasswordField",{ref:"password",class:{shake:t.invalidPassword},attrs:{id:"password",name:"password","label-visible":!0,value:t.password,spellchecking:!1,autocapitalize:"none",autocomplete:t.autoCompleteAllowed?"current-password":"off",label:t.t("core","Password"),"helper-text":t.errorLabel,error:t.isError,"data-login-form-input-password":"",required:""},on:{"update:value":function(e){t.password=e}}}),t._v(" "),e("LoginButton",{attrs:{"data-login-form-submit":"",loading:t.loading}}),t._v(" "),t.redirectUrl?e("input",{attrs:{type:"hidden",name:"redirect_url"},domProps:{value:t.redirectUrl}}):t._e(),t._v(" "),e("input",{attrs:{type:"hidden",name:"timezone"},domProps:{value:t.timezone}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"timezone_offset"},domProps:{value:t.timezoneOffset}}),t._v(" "),e("input",{attrs:{type:"hidden",name:"requesttoken"},domProps:{value:t.OC.requestToken}}),t._v(" "),t.directLogin?e("input",{attrs:{type:"hidden",name:"direct",value:"1"}}):t._e()],1)])}),[],!1,null,"e7af5b9e",null).exports,Ne=i(48033),Oe=i(37838),Te={name:"LockOpenIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},Se=(0,_e.Z)(Te,(function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon lock-open-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10A2,2 0 0,1 6,8H15V6A3,3 0 0,0 12,3A3,3 0 0,0 9,6H7A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,17A2,2 0 0,0 14,15A2,2 0 0,0 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])}),[],!1,null,null,null).exports,Le=i(25108);function Ie(t){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(t)}function Re(t){return function(t){if(Array.isArray(t))return Fe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Fe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(n),!0).forEach((function(e){Be(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Be(t,e,n){return(e=De(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function De(t){var e=function(t,e){if("object"!==Ie(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Ie(e)?e:String(e)}function $e(t){var e="function"==typeof Map?new Map:void 0;return $e=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ze(t,arguments,Ve(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),He(r,t)},$e(t)}function ze(t,e,n){return ze=qe()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&He(i,n.prototype),i},ze.apply(null,arguments)}function qe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function He(t,e){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},He(t,e)}function Ve(t){return Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ve(t)}var Ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&He(t,e)}(o,t);var e,n,r,i=(n=o,r=qe(),function(){var t,e=Ve(n);if(r){var i=Ve(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return e=o,Object.defineProperty(e,"prototype",{writable:!1}),e}($e(Error)),Ze={name:"PasswordLessLoginForm",components:{LoginButton:Ce,InformationIcon:Oe.default,LockOpenIcon:Se,NcTextField:re()},props:{username:{type:String,default:""},redirectUrl:{type:[String,Boolean],default:!1},autoCompleteAllowed:{type:Boolean,default:!0},isHttps:{type:Boolean,default:!1},isLocalhost:{type:Boolean,default:!1},hasPublicKeyCredential:{type:Boolean,default:!1}},data:function(){return{user:this.username,loading:!1,validCredentials:!0}},methods:{authenticate:function(){var t=this;this.$refs.loginForm.checkValidity()&&(Le.debug("passwordless login initiated"),this.getAuthenticationData(this.user).then((function(t){return Le.debug(t),t})).then(this.sign).then(this.completeAuthentication).catch((function(e){e instanceof Ke?t.validCredentials=!1:Le.debug(e)})))},changeUsername:function(t){this.user=t,this.$emit("update:username",this.user)},getAuthenticationData:function(t){var e,n,r=function(t){var e=(t=t.replace(/-/g,"+").replace(/_/g,"/")).length%4;if(e){if(1===e)throw new Error("InvalidLengthError: Input base64url string is the wrong length to determine padding");t+=new Array(5-e).join("=")}return window.atob(t)};return(e=t,n=(0,g.generateUrl)("/login/webauthn/start"),Ne.Z.post(n,{loginName:e}).then((function(t){return t.data}))).then((function(t){if(Le.debug("Obtained PublicKeyCredentialRequestOptions"),Le.debug(t),!Object.prototype.hasOwnProperty.call(t,"allowCredentials"))throw Le.debug("No credentials found."),new Ke;return t.challenge=Uint8Array.from(r(t.challenge),(function(t){return t.charCodeAt(0)})),t.allowCredentials=t.allowCredentials.map((function(t){return Me(Me({},t),{},{id:Uint8Array.from(r(t.id),(function(t){return t.charCodeAt(0)}))})})),Le.debug("Converted PublicKeyCredentialRequestOptions"),Le.debug(t),t})).catch((function(t){throw Le.debug("Error while obtaining data"),t}))},sign:function(t){var e=function(t){return window.btoa(String.fromCharCode.apply(String,Re(t)))};return navigator.credentials.get({publicKey:t}).then((function(t){return Le.debug(t),Le.debug(new Uint8Array(t.rawId)),Le.debug(e(new Uint8Array(t.rawId))),{id:t.id,type:t.type,rawId:e(new Uint8Array(t.rawId)),response:{authenticatorData:e(new Uint8Array(t.response.authenticatorData)),clientDataJSON:e(new Uint8Array(t.response.clientDataJSON)),signature:e(new Uint8Array(t.response.signature)),userHandle:t.response.userHandle?(n=new Uint8Array(t.response.userHandle),String.fromCharCode.apply(String,Re(n))):null}};var n})).then((function(t){return Le.debug(t),t})).catch((function(t){Le.debug("GOT AN ERROR!"),Le.debug(t)}))},completeAuthentication:function(t){Le.debug("TIME TO COMPLETE");var e,n,r=this.redirectUrl;return(e=JSON.stringify(t),n=(0,g.generateUrl)("/login/webauthn/finish"),Ne.Z.post(n,{data:e}).then((function(t){return t.data}))).then((function(t){var e=t.defaultRedirectUrl;Le.debug("Logged in redirecting"),window.location.href=r||e})).catch((function(t){Le.debug("GOT AN ERROR WHILE SUBMITTING CHALLENGE!"),Le.debug(t)}))},submit:function(){}}},Ye=i(34840),Ge={};Ge.styleTagTransform=we(),Ge.setAttributes=ge(),Ge.insert=he().bind(null,"head"),Ge.domAPI=de(),Ge.insertStyleElement=ye(),ce()(Ye.Z,Ge),Ye.Z&&Ye.Z.locals&&Ye.Z.locals;var We=(0,_e.Z)(Ze,(function(){var t=this,e=t._self._c;return(t.isHttps||t.isLocalhost)&&t.hasPublicKeyCredential?e("form",{ref:"loginForm",attrs:{method:"post",name:"login"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("h2",[t._v(t._s(t.t("core","Log in with a device")))]),t._v(" "),e("fieldset",[e("NcTextField",{attrs:{required:"",value:t.user,autocomplete:t.autoCompleteAllowed?"on":"off",error:!t.validCredentials,"label-visible":!0,label:t.t("core","Username or email"),placeholder:t.t("core","Username or email"),"helper-text":t.validCredentials?"":t.t("core","Your account is not setup for passwordless login.")},on:{"update:value":t.changeUsername}}),t._v(" "),t.validCredentials?e("LoginButton",{attrs:{loading:t.loading},on:{click:t.authenticate}}):t._e()],1)]):t.hasPublicKeyCredential?t.isHttps||t.isLocalhost?t._e():e("div",{staticClass:"update"},[e("LockOpenIcon",{attrs:{size:"70"}}),t._v(" "),e("h2",[t._v(t._s(t.t("core","Your connection is not secure")))]),t._v(" "),e("p",{staticClass:"infogroup"},[t._v("\n\t\t"+t._s(t.t("core","Passwordless authentication is only available over a secure connection."))+"\n\t")])],1):e("div",{staticClass:"update"},[e("InformationIcon",{attrs:{size:"70"}}),t._v(" "),e("h2",[t._v(t._s(t.t("core","Browser not supported")))]),t._v(" "),e("p",{staticClass:"infogroup"},[t._v("\n\t\t"+t._s(t.t("core","Passwordless authentication is not supported in your browser."))+"\n\t")])],1)}),[],!1,null,"11c76644",null),Je=We.exports,Xe=i(25108),Qe={name:"ResetPassword",components:{LoginButton:Ce,NcNoteCard:oe(),NcTextField:re()},props:{username:{type:String,required:!0},resetPasswordLink:{type:String,required:!0}},data:function(){return{error:!1,loading:!1,message:void 0,user:this.username}},watch:{username:function(t){this.user=t}},methods:{updateUsername:function(){this.$emit("update:username",this.user)},submit:function(){var t=this;this.loading=!0,this.error=!1,this.message="";var e=(0,g.generateUrl)("/lostpassword/email"),n={user:this.user};return Ne.Z.post(e,n).then((function(t){return t.data})).then((function(e){if("success"!==e.status)throw new Error("got status ".concat(e.status));t.message="send-success"})).catch((function(e){Xe.error("could not send reset email request",e),t.error=!0,t.message="send-error"})).then((function(){t.loading=!1}))}}},tn=i(72076),en={};en.styleTagTransform=we(),en.setAttributes=ge(),en.insert=he().bind(null,"head"),en.domAPI=de(),en.insertStyleElement=ye(),ce()(tn.Z,en),tn.Z&&tn.Z.locals&&tn.Z.locals;var nn=(0,_e.Z)(Qe,(function(){var t=this,e=t._self._c;return e("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("fieldset",{staticClass:"login-form__fieldset"},[e("NcTextField",{attrs:{id:"user",value:t.user,name:"user",autocapitalize:"off",label:t.t("core","Account name or email"),"label-visible":!0,required:""},on:{"update:value":function(e){t.user=e},change:t.updateUsername}}),t._v(" "),e("LoginButton",{attrs:{value:t.t("core","Reset password")}}),t._v(" "),"send-success"===t.message?e("NcNoteCard",{attrs:{type:"success"}},[t._v("\n\t\t\t"+t._s(t.t("core","If this account exists, a password reset message has been sent to its email address. If you do not receive it, verify your email address and/or account name, check your spam/junk folders or ask your local administration for help."))+"\n\t\t")]):"send-error"===t.message?e("NcNoteCard",{attrs:{type:"error"}},[t._v("\n\t\t\t"+t._s(t.t("core","Couldn't send reset email. Please contact your administrator."))+"\n\t\t")]):"reset-error"===t.message?e("NcNoteCard",{attrs:{type:"error"}},[t._v("\n\t\t\t"+t._s(t.t("core","Password cannot be changed. Please contact your administrator."))+"\n\t\t")]):t._e(),t._v(" "),e("a",{staticClass:"login-form__link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("abort")}}},[t._v("\n\t\t\t"+t._s(t.t("core","Back to login"))+"\n\t\t")])],1)])}),[],!1,null,"6636f1b2",null),rn=nn.exports;function on(t){return on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(t)}function an(){an=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:x(t,n,s)}),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function h(){}var m={};u(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(P([])));v&&v!==e&&n.call(v,o)&&(m=v);var y=h.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==on(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function A(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function P(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=h,r(y,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=u(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),u(y,s,"Generator"),u(y,o,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function sn(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}var un={name:"UpdatePassword",components:{LoginButton:Ce},props:{username:{type:String,required:!0},resetPasswordTarget:{type:String,required:!0}},data:function(){return{error:!1,loading:!1,message:void 0,user:this.username,password:"",encrypted:!1,proceed:!1}},watch:{username:function(t){this.user=t}},methods:{submit:function(){var e,n=this;return(e=an().mark((function e(){var r,i;return an().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loading=!0,n.error=!1,n.message="",e.prev=3,e.next=6,Ne.Z.post(n.resetPasswordTarget,{password:n.password,proceed:n.proceed});case 6:if(r=e.sent,!(i=r.data)||"success"!==i.status){e.next=14;break}n.message="send-success",n.$emit("update:username",n.user),n.$emit("done"),e.next=23;break;case 14:if(!i||!i.encryption){e.next=18;break}n.encrypted=!0,e.next=23;break;case 18:if(!i||!i.msg){e.next=22;break}throw new Error(i.msg);case 22:throw new Error;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(3),n.error=!0,n.message=e.t0.message?e.t0.message:t("core","Password cannot be changed. Please contact your administrator.");case 29:return e.prev=29,n.loading=!1,e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[3,25,29,32]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(t){sn(o,r,i,a,s,"next",t)}function s(t){sn(o,r,i,a,s,"throw",t)}a(void 0)}))})()}}},ln=un,cn=i(74778),fn={};fn.styleTagTransform=we(),fn.setAttributes=ge(),fn.insert=he().bind(null,"head"),fn.domAPI=de(),fn.insertStyleElement=ye(),ce()(cn.Z,fn),cn.Z&&cn.Z.locals&&cn.Z.locals;var dn=(0,_e.Z)(ln,(function(){var t=this,e=t._self._c;return e("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[e("fieldset",[e("p",[e("label",{staticClass:"infield",attrs:{for:"password"}},[t._v(t._s(t.t("core","New password")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",type:"password",name:"password",autocomplete:"new-password",autocapitalize:"none",autocorrect:"off",required:"",placeholder:t.t("core","New password")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),t.encrypted?e("div",{staticClass:"update"},[e("p",[t._v("\n\t\t\t\t"+t._s(t.t("core","Your files are encrypted. There will be no way to get your data back after your password is reset. If you are not sure what to do, please contact your administrator before you continue. Do you really want to continue?"))+"\n\t\t\t")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.proceed,expression:"proceed"}],staticClass:"checkbox",attrs:{id:"encrypted-continue",type:"checkbox"},domProps:{checked:Array.isArray(t.proceed)?t._i(t.proceed,null)>-1:t.proceed},on:{change:function(e){var n=t.proceed,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,null);r.checked?o<0&&(t.proceed=n.concat([null])):o>-1&&(t.proceed=n.slice(0,o).concat(n.slice(o+1)))}else t.proceed=i}}}),t._v(" "),e("label",{attrs:{for:"encrypted-continue"}},[t._v("\n\t\t\t\t"+t._s(t.t("core","I know what I'm doing"))+"\n\t\t\t")])]):t._e(),t._v(" "),e("LoginButton",{attrs:{loading:t.loading,value:t.t("core","Reset password"),"value-loading":t.t("core","Resetting password")}}),t._v(" "),t.error&&t.message?e("p",{class:{warning:t.error}},[t._v("\n\t\t\t"+t._s(t.message)+"\n\t\t")]):t._e()],1)])}),[],!1,null,"4dc21d74",null),pn=dn.exports,hn=i(25108),mn=Qt.parse(location.search);if("1"===mn.clear)try{window.localStorage.clear(),window.sessionStorage.clear(),hn.debug("Browser storage cleared")}catch(t){hn.error("Could not clear browser storage",t)}var gn={name:"Login",components:{LoginForm:je,PasswordLessLoginForm:Je,ResetPassword:rn,UpdatePassword:pn,NcButton:se(),NcNoteCard:oe()},data:function(){return{loading:!1,user:(0,Nt.j)("core","loginUsername",""),passwordlessLogin:!1,resetPassword:!1,errors:(0,Nt.j)("core","loginErrors",[]),messages:(0,Nt.j)("core","loginMessages",[]),redirectUrl:(0,Nt.j)("core","loginRedirectUrl",!1),throttleDelay:(0,Nt.j)("core","loginThrottleDelay",0),canResetPassword:(0,Nt.j)("core","loginCanResetPassword",!1),resetPasswordLink:(0,Nt.j)("core","loginResetPasswordLink",""),autoCompleteAllowed:(0,Nt.j)("core","loginAutocomplete",!0),resetPasswordTarget:(0,Nt.j)("core","resetPasswordTarget",""),resetPasswordUser:(0,Nt.j)("core","resetPasswordUser",""),directLogin:"1"===mn.direct,hasPasswordless:(0,Nt.j)("core","webauthn-available",!1),countAlternativeLogins:(0,Nt.j)("core","countAlternativeLogins",!1),alternativeLogins:(0,Nt.j)("core","alternativeLogins",[]),isHttps:"https:"===window.location.protocol,isLocalhost:"localhost"===window.location.hostname,hasPublicKeyCredential:void 0!==window.PublicKeyCredential,hideLoginForm:(0,Nt.j)("core","hideLoginForm",!1)}},methods:{passwordResetFinished:function(){this.resetPasswordTarget="",this.directLogin=!0}}},vn=i(52454),yn={};yn.styleTagTransform=we(),yn.setAttributes=ge(),yn.insert=he().bind(null,"head"),yn.domAPI=de(),yn.insertStyleElement=ye(),ce()(vn.Z,yn),vn.Z&&vn.Z.locals&&vn.Z.locals;var bn=(0,_e.Z)(gn,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"guest-box login-box"},[!t.hideLoginForm||t.directLogin?[e("transition",{attrs:{name:"fade",mode:"out-in"}},[t.passwordlessLogin||t.resetPassword||""!==t.resetPasswordTarget?!t.loading&&t.passwordlessLogin?e("div",{key:"reset",staticClass:"login-additional login-passwordless"},[e("PasswordLessLoginForm",{attrs:{username:t.user,"redirect-url":t.redirectUrl,"auto-complete-allowed":t.autoCompleteAllowed,"is-https":t.isHttps,"is-localhost":t.isLocalhost,"has-public-key-credential":t.hasPublicKeyCredential},on:{"update:username":function(e){t.user=e},submit:function(e){t.loading=!0}}}),t._v(" "),e("NcButton",{attrs:{type:"tertiary","aria-label":t.t("core","Back to login form"),wide:!0},on:{click:function(e){t.passwordlessLogin=!1}}},[t._v("\n\t\t\t\t\t"+t._s(t.t("core","Back"))+"\n\t\t\t\t")])],1):!t.loading&&t.canResetPassword?e("div",{key:"reset",staticClass:"login-additional"},[e("div",{staticClass:"lost-password-container"},[t.resetPassword?e("ResetPassword",{attrs:{username:t.user,"reset-password-link":t.resetPasswordLink},on:{"update:username":function(e){t.user=e},abort:function(e){t.resetPassword=!1}}}):t._e()],1)]):""!==t.resetPasswordTarget?e("div",[e("UpdatePassword",{attrs:{username:t.user,"reset-password-target":t.resetPasswordTarget},on:{"update:username":function(e){t.user=e},done:t.passwordResetFinished}})],1):t._e():e("div",[e("LoginForm",{attrs:{username:t.user,"redirect-url":t.redirectUrl,"direct-login":t.directLogin,messages:t.messages,errors:t.errors,"throttle-delay":t.throttleDelay,"auto-complete-allowed":t.autoCompleteAllowed},on:{"update:username":function(e){t.user=e},submit:function(e){t.loading=!0}}}),t._v(" "),t.canResetPassword&&""!==t.resetPasswordLink?e("a",{staticClass:"login-box__link",attrs:{id:"lost-password",href:t.resetPasswordLink}},[t._v("\n\t\t\t\t\t"+t._s(t.t("core","Forgot password?"))+"\n\t\t\t\t")]):t.canResetPassword&&!t.resetPassword?e("a",{staticClass:"login-box__link",attrs:{id:"lost-password",href:t.resetPasswordLink},on:{click:function(e){e.preventDefault(),t.resetPassword=!0}}},[t._v("\n\t\t\t\t\t"+t._s(t.t("core","Forgot password?"))+"\n\t\t\t\t")]):t._e(),t._v(" "),t.hasPasswordless?[t.countAlternativeLogins?e("div",{staticClass:"alternative-logins"},[t.hasPasswordless?e("a",{staticClass:"button",class:{"single-alt-login-option":t.countAlternativeLogins},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.passwordlessLogin=!0}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.t("core","Log in with a device"))+"\n\t\t\t\t\t\t")]):t._e()]):e("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.passwordlessLogin=!0}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.t("core","Log in with a device"))+"\n\t\t\t\t\t")])]:t._e()],2)])]:[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("NcNoteCard",{attrs:{type:"warning",title:t.t("core","Login form is disabled.")}},[t._v("\n\t\t\t\t"+t._s(t.t("core","Please contact your administrator."))+"\n\t\t\t")])],1)],t._v(" "),e("div",{staticClass:"alternative-logins",attrs:{id:"alternative-logins"}},t._l(t.alternativeLogins,(function(n,r){return e("NcButton",{key:r,class:[n.class],attrs:{type:"secondary",wide:!0,role:"link",href:n.href}},[t._v("\n\t\t\t"+t._s(n.name)+"\n\t\t")])})),1)],2)}),[],!1,null,null,null).exports,wn={data:function(){return{OC:jt}},methods:{t:ft.translate.bind(ft),n:ft.translatePlural.bind(ft)}};a.default.mixin(wn),(new(a.default.extend(bn))).$mount("#login")},72316:function(t,e,n){var r,i,o;o="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g,r=[n(59050),n(19755),e],i=function(t,e,n){o.Backbone=function(t,e,n,r){var i=t.Backbone,o=Array.prototype.slice;e.VERSION="1.5.0",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a,s=e.Events={},u=/\s+/,l=function(t,e,r,i,o){var a,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=n.keys(r);s<a.length;s++)e=l(t,e,a[s],r[a[s]],o)}else if(r&&u.test(r))for(a=r.split(u);s<a.length;s++)e=t(e,a[s],i,o);else e=t(e,r,i,o);return e};s.on=function(t,e,n){return this._events=l(c,this._events||{},t,e,{context:n,ctx:this,listening:a}),a&&((this._listeners||(this._listeners={}))[a.id]=a,a.interop=!1),this},s.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=a=o[i];s||(this._listenId||(this._listenId=n.uniqueId("l")),s=a=o[i]=new g(this,t));var u=f(t,e,r,this);if(a=void 0,u)throw u;return s.interop&&s.on(e,r),this};var c=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,a=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||a,listening:s})}return t},f=function(t,e,n,r){try{t.on(e,n,r)}catch(t){return t}};s.off=function(t,e,n){return this._events?(this._events=l(d,this._events,t,e,{context:n,listeners:this._listeners}),this):this},s.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;s.obj.off(e,r,this),s.interop&&s.off(e,r)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var d=function(t,e,r,i){if(t){var o,a=i.context,s=i.listeners,u=0;if(e||a||r){for(o=e?[e]:n.keys(t);u<o.length;u++){var l=t[e=o[u]];if(!l)break;for(var c=[],f=0;f<l.length;f++){var d=l[f];if(r&&r!==d.callback&&r!==d.callback._callback||a&&a!==d.context)c.push(d);else{var p=d.listening;p&&p.off(e,r)}}c.length?t[e]=c:delete t[e]}return t}for(o=n.keys(s);u<o.length;u++)s[o[u]].cleanup()}};s.once=function(t,e,n){var r=l(p,{},t,e,this.off.bind(this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},s.listenToOnce=function(t,e,n){var r=l(p,{},e,n,this.stopListening.bind(this,t));return this.listenTo(t,r)};var p=function(t,e,r,i){if(r){var o=t[e]=n.once((function(){i(e,o),r.apply(this,arguments)}));o._callback=r}return t};s.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return l(h,this._events,t,void 0,n),this};var h=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&m(i,r),o&&m(o,[e].concat(r))}return t},m=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},g=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};g.prototype.on=s.on,g.prototype.off=function(t,e){var n;this.interop?(this._events=l(d,this._events,t,e,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},g.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,n.extend(e,s);var v=e.Model=function(t,e){var r=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(v.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,f=this._previousAttributes;for(var d in i)e=i[d],n.isEqual(l[d],e)||s.push(d),n.isEqual(f[d],e)?delete c[d]:c[d]=e,o?delete l[d]:l[d]=e;if(this.idAttribute in i){var p=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,p,r)}if(!a){s.length&&(this._pending=r);for(var h=0;h<s.length;h++)this.trigger("change:"+s[h],this,l[s[h]],r)}if(u)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,r=this._changing?this._previousAttributes:this.attributes,i={};for(var o in t){var a=t[o];n.isEqual(r[o],a)||(i[o]=a,e=!0)}return!!e&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;if(!e.set(i,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},H(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e;var o=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,s=r.success,u=this.attributes;r.success=function(t){a.attributes=u;var e=r.parse?a.parse(t,r):t;if(o&&(e=n.extend({},i,e)),e&&!a.set(e,r))return!1;s&&s.call(r.context,a,t,r),a.trigger("sync",a,t,r)},H(this,r),i&&o&&(this.attributes=n.extend({},u,i));var l=this.isNew()?"create":r.patch?"patch":"update";"patch"!==l||r.attrs||(r.attrs=i);var c=this.sync(l,this,r);return this.attributes=u,c},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(H(this,t),a=this.sync("delete",this,t)),i||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||q();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var y=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},x=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),o=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<o;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+o+n]=i[r]};n.extend(y.prototype,s,{model:v,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){(e=n.extend({},b,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,a,s=[],u=[],l=[],c=[],f={},d=e.add,p=e.merge,h=e.remove,m=!1,g=this.comparator&&null==i&&!1!==e.sort,v=n.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var y=this.get(o);if(y){if(p&&o!==y){var w=this._isModel(o)?o.attributes:o;e.parse&&(w=y.parse(w,e)),y.set(w,e),l.push(y),g&&!m&&(m=y.hasChanged(v))}f[y.cid]||(f[y.cid]=!0,s.push(y)),t[a]=y}else d&&(o=t[a]=this._prepareModel(o,e))&&(u.push(o),this._addReference(o,e),f[o.cid]=!0,s.push(o))}if(h){for(a=0;a<this.length;a++)f[(o=this.models[a]).cid]||c.push(o);c.length&&this._removeModels(c,e)}var A=!1,_=!g&&d&&h;if(s.length&&_?(A=this.length!==s.length||n.some(this.models,(function(t,e){return t!==s[e]})),this.models.length=0,x(this.models,s,0),this.length=this.models.length):u.length&&(g&&(m=!0),x(this.models,u,null==i?this.length:i),this.length=this.models.length),m&&this.sort({silent:!0}),!e.silent){for(a=0;a<u.length;a++)null!=i&&(e.index=i+a),(o=u[a]).trigger("add",o,this,e);(m||A)&&this.trigger("sort",this,e),(u.length||c.length||l.length)&&(e.changes={added:u,removed:c,merged:l},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t,t.idAttribute)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=e.bind(this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},H(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&(t.off("error",this._forwardPristineError,this),i.add(t,n)),o&&o.call(n.context,t,e,n)},r&&t.once("error",this._forwardPristineError,this),t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t,e){return t[e||this.model.prototype.idAttribute||"id"]},values:function(){return new _(this,C)},keys:function(){return new _(this,k)},entries:function(){return new _(this,P)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){return this._isModel(t)?(t.collection||(t.collection=this),t):((e=e?n.clone(e):{}).collection=this,(r=this.model.prototype?new this.model(t,e):this.model(t,e)).validationError?(this.trigger("invalid",this,r.validationError,e),!1):r);var r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes,i.idAttribute);null!=a&&delete this._byId[a],e.silent||(e.index=o,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return t.length>0&&!e.silent&&delete e.index,n},_isModel:function(t){return t instanceof v},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes,t.idAttribute);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes,t.idAttribute);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"changeId"===t){var i=this.modelId(e.previousAttributes(),e.idAttribute),o=this.modelId(e.attributes,e.idAttribute);null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e)}}this.trigger.apply(this,arguments)},_forwardPristineError:function(t,e,n){this.has(t)||this._onModelEvent("error",t,e,n)}});var A="function"==typeof Symbol&&Symbol.iterator;A&&(y.prototype[A]=y.prototype.values);var _=function(t,e){this._collection=t,this._kind=e,this._index=0},C=1,k=2,P=3;A&&(_.prototype[A]=function(){return this}),_.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);if(this._index++,this._kind===C)t=e;else{var n=this._collection.modelId(e.attributes,e.idAttribute);t=this._kind===k?n:[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var E=e.View=function(t){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(t,N)),this._ensureElement(),this.initialize.apply(this,arguments)},j=/^(\S+)\s*(.*)$/,N=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(j);this.delegate(i[1],i[2],r.bind(this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var O=function(t,e,r,i){n.each(r,(function(n,r){e[r]&&(t.prototype[r]=function(t,e,n,r){switch(e){case 1:return function(){return t[n](this[r])};case 2:return function(e){return t[n](this[r],e)};case 3:return function(e,i){return t[n](this[r],T(e,this),i)};case 4:return function(e,i,o){return t[n](this[r],T(e,this),i,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[r]),t[n].apply(t,e)}}}(e,n,r,i))}))},T=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?S(t):n.isString(t)?function(e){return e.get(t)}:t},S=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}};n.each([[y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[v,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],(function(t){var e=t[0],r=t[1],i=t[2];e.mixin=function(t){var r=n.reduce(n.functions(t),(function(t,e){return t[e]=0,t}),{});O(e,t,r,i)},O(e,n,r,i)})),e.sync=function(t,r,i){var o=L[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||q()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.call(i.context,t,e,n)};var l=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,l,i),l};var L={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var I=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},R=/\((.*?)\)/g,F=/(\(\?)?:\w+/g,U=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(I.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,(function(n){var a=o._extractParameters(t,n);!1!==o.execute(i,a,r)&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),e.history.trigger("route",o,r,a))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(M,"\\$&").replace(R,"(?:$1)?").replace(F,(function(t,e){return e?t:"([^/?]+)"})).replace(U,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,(function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null}))}});var B=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,$=/^\/+|\/+$/g,z=/#.*$/;B.started=!1,n.extend(B.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(D,"")},start:function(t){if(B.started)throw new Error("Backbone.history has already been started");if(B.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._trailingSlash=this.options.trailingSlash,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace($,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),B.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!B.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;this._trailingSlash||""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;t=t.replace(z,"");var i=this.decodeFragment(t);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;e.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new B;v.extend=y.extend=I.extend=E.extend=B.extend=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};var q=function(){throw new Error('A "url" property or function must be specified')},H=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}(o,n,t,e)}.apply(e,r),void 0===i||(t.exports=i)},76515:function(t,e,n){"use strict";var r=n(87537),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([t.id,".button-vue[data-v-3fa8511b]{margin-top:.5rem}","",{version:3,sources:["webpack://./core/src/components/login/LoginButton.vue"],names:[],mappings:"AACA,6BACC,gBAAA",sourcesContent:["\n.button-vue {\n\tmargin-top: .5rem;\n}\n"],sourceRoot:""}]),e.Z=a},70934:function(t,e,n){"use strict";var r=n(87537),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([t.id,".login-form[data-v-e7af5b9e]{text-align:left;font-size:1rem}.login-form__fieldset[data-v-e7af5b9e]{width:100%;display:flex;flex-direction:column;gap:.5rem}.login-form__headline[data-v-e7af5b9e]{text-align:center;overflow-wrap:anywhere}","",{version:3,sources:["webpack://./core/src/components/login/LoginForm.vue"],names:[],mappings:"AACA,6BACC,eAAA,CACA,cAAA,CAEA,uCACC,UAAA,CACA,YAAA,CACA,qBAAA,CACA,SAAA,CAGD,uCACC,iBAAA,CACA,sBAAA",sourcesContent:["\n.login-form {\n\ttext-align: left;\n\tfont-size: 1rem;\n\n\t&__fieldset {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: .5rem;\n\t}\n\n\t&__headline {\n\t\ttext-align: center;\n\t\toverflow-wrap: anywhere;\n\t}\n}\n"],sourceRoot:""}]),e.Z=a},34840:function(t,e,n){"use strict";var r=n(87537),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([t.id,"fieldset[data-v-11c76644]{display:flex;flex-direction:column;gap:.5rem}fieldset[data-v-11c76644] label{text-align:initial}.update[data-v-11c76644]{margin:0 auto}","",{version:3,sources:["webpack://./core/src/components/login/PasswordLessLoginForm.vue"],names:[],mappings:"AACA,0BACC,YAAA,CACA,qBAAA,CACA,SAAA,CAEA,gCACC,kBAAA,CAIF,yBACC,aAAA",sourcesContent:["\nfieldset {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.5rem;\n\n\t:deep(label) {\n\t\ttext-align: initial;\n\t}\n}\n\n.update {\n\tmargin: 0 auto;\n}\n"],sourceRoot:""}]),e.Z=a},72076:function(t,e,n){"use strict";var r=n(87537),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([t.id,".login-form[data-v-6636f1b2]{text-align:left;font-size:1rem}.login-form__fieldset[data-v-6636f1b2]{width:100%;display:flex;flex-direction:column;gap:.5rem}.login-form__link[data-v-6636f1b2]{display:block;font-weight:normal !important;padding-bottom:1rem;cursor:pointer;font-size:var(--default-font-size);text-align:center;padding:.5rem 1rem 1rem 1rem}","",{version:3,sources:["webpack://./core/src/components/login/ResetPassword.vue"],names:[],mappings:"AACA,6BACC,eAAA,CACA,cAAA,CAEA,uCACC,UAAA,CACA,YAAA,CACA,qBAAA,CACA,SAAA,CAGD,mCACC,aAAA,CACA,6BAAA,CACA,mBAAA,CACA,cAAA,CACA,kCAAA,CACA,iBAAA,CACA,4BAAA",sourcesContent:["\n.login-form {\n\ttext-align: left;\n\tfont-size: 1rem;\n\n\t&__fieldset {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: .5rem;\n\t}\n\n\t&__link {\n\t\tdisplay: block;\n\t\tfont-weight: normal !important;\n\t\tpadding-bottom: 1rem;\n\t\tcursor: pointer;\n\t\tfont-size: var(--default-font-size);\n\t\ttext-align: center;\n\t\tpadding: .5rem 1rem 1rem 1rem;\n\t}\n}\n"],sourceRoot:""}]),e.Z=a},52454:function(t,e,n){"use strict";var r=n(87537),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([t.id,"body{font-size:var(--default-font-size)}.login-box{width:320px;box-sizing:border-box}.login-box__link{display:block;padding:1rem;font-size:var(--default-font-size);text-align:center;font-weight:normal !important}.login-box.guest-box,footer{color:var(--color-main-text);background-color:var(--color-main-background-blur);-webkit-backdrop-filter:var(--filter-background-blur);backdrop-filter:var(--filter-background-blur)}footer{min-width:320px;box-sizing:border-box;box-shadow:0 0 10px var(--color-box-shadow);border-radius:var(--border-radius-pill);padding:6px 24px;margin-bottom:1rem;min-height:unset}footer p.info{margin:auto 0px}.fade-enter-active,.fade-leave-active{transition:opacity .3s}.fade-enter,.fade-leave-to{opacity:0}.alternative-logins{display:flex;flex-direction:column;gap:.75rem}.alternative-logins .button-vue{box-sizing:border-box}.login-passwordless .button-vue{margin-top:.5rem}","",{version:3,sources:["webpack://./core/src/views/Login.vue"],names:[],mappings:"AACA,KACC,kCAAA,CAGD,WAEC,WAAA,CACA,qBAAA,CAEA,iBACC,aAAA,CACA,YAAA,CACA,kCAAA,CACA,iBAAA,CACA,6BAAA,CAKF,4BACC,4BAAA,CACA,kDAAA,CACA,qDAAA,CACA,6CAAA,CAGD,OAEC,eAAA,CACA,qBAAA,CAEA,2CAAA,CAEA,uCAAA,CACA,gBAAA,CAEA,kBAAA,CACA,gBAAA,CAGA,cACC,eAAA,CAIF,sCACC,sBAAA,CAED,2BACC,SAAA,CAGD,oBACC,YAAA,CACA,qBAAA,CACA,UAAA,CAEA,gCACC,qBAAA,CAKD,gCACC,gBAAA",sourcesContent:["\nbody {\n\tfont-size: var(--default-font-size);\n}\n\n.login-box {\n\t// Same size as dashboard panels\n\twidth: 320px;\n\tbox-sizing: border-box;\n\n\t&__link {\n\t\tdisplay: block;\n\t\tpadding: 1rem;\n\t\tfont-size: var(--default-font-size);\n\t\ttext-align: center;\n\t\tfont-weight: normal !important;\n\t}\n}\n\n// Same look like a dashboard panel\n.login-box.guest-box, footer {\n\tcolor: var(--color-main-text);\n\tbackground-color: var(--color-main-background-blur);\n\t-webkit-backdrop-filter: var(--filter-background-blur);\n\tbackdrop-filter: var(--filter-background-blur);\n}\n\nfooter {\n\t// Usually the same size as the login box, but allow longer texts\n\tmin-width: 320px;\n\tbox-sizing: border-box;\n\t// align with login box\n\tbox-shadow: 0 0 10px var(--color-box-shadow);\n\t// set border to pill style and adjust padding for it\n\tborder-radius: var(--border-radius-pill);\n\tpadding: 6px 24px;\n\t// always show above bottom\n\tmargin-bottom: 1rem;\n\tmin-height: unset;\n\n\t// reset margin to reduce height of pill\n\tp.info {\n\t\tmargin: auto 0px;\n\t}\n}\n\n.fade-enter-active, .fade-leave-active {\n\ttransition: opacity .3s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n\topacity: 0;\n}\n\n.alternative-logins {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.75rem;\n\n\t.button-vue {\n\t\tbox-sizing: border-box;\n\t}\n}\n\n.login-passwordless {\n\t.button-vue {\n\t\tmargin-top: 0.5rem;\n\t}\n}\n"],sourceRoot:""}]),e.Z=a},74778:function(t,e,n){"use strict";var r=n(87537),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([t.id,"\nfieldset[data-v-4dc21d74] {\n\ttext-align: center;\n}\ninput[type=submit][data-v-4dc21d74] {\n\tmargin-top: 20px;\n}\n","",{version:3,sources:["webpack://./core/src/components/login/UpdatePassword.vue"],names:[],mappings:";AA4IA;CACA,kBAAA;AACA;AAEA;CACA,gBAAA;AACA",sourcesContent:["\x3c!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  --\x3e\n\n<template>\n\t<form @submit.prevent=\"submit\">\n\t\t<fieldset>\n\t\t\t<p>\n\t\t\t\t<label for=\"password\" class=\"infield\">{{ t('core', 'New password') }}</label>\n\t\t\t\t<input id=\"password\"\n\t\t\t\t\tv-model=\"password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tautocomplete=\"new-password\"\n\t\t\t\t\tautocapitalize=\"none\"\n\t\t\t\t\tautocorrect=\"off\"\n\t\t\t\t\trequired\n\t\t\t\t\t:placeholder=\"t('core', 'New password')\">\n\t\t\t</p>\n\n\t\t\t<div v-if=\"encrypted\" class=\"update\">\n\t\t\t\t<p>\n\t\t\t\t\t{{ t('core', 'Your files are encrypted. There will be no way to get your data back after your password is reset. If you are not sure what to do, please contact your administrator before you continue. Do you really want to continue?') }}\n\t\t\t\t</p>\n\t\t\t\t<input id=\"encrypted-continue\"\n\t\t\t\t\tv-model=\"proceed\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tclass=\"checkbox\">\n\t\t\t\t<label for=\"encrypted-continue\">\n\t\t\t\t\t{{ t('core', 'I know what I\\'m doing') }}\n\t\t\t\t</label>\n\t\t\t</div>\n\n\t\t\t<LoginButton :loading=\"loading\"\n\t\t\t\t:value=\"t('core', 'Reset password')\"\n\t\t\t\t:value-loading=\"t('core', 'Resetting password')\" />\n\n\t\t\t<p v-if=\"error && message\" :class=\"{warning: error}\">\n\t\t\t\t{{ message }}\n\t\t\t</p>\n\t\t</fieldset>\n\t</form>\n</template>\n\n<script>\nimport Axios from '@nextcloud/axios'\nimport LoginButton from './LoginButton.vue'\n\nexport default {\n\tname: 'UpdatePassword',\n\tcomponents: {\n\t\tLoginButton,\n\t},\n\tprops: {\n\t\tusername: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tresetPasswordTarget: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\terror: false,\n\t\t\tloading: false,\n\t\t\tmessage: undefined,\n\t\t\tuser: this.username,\n\t\t\tpassword: '',\n\t\t\tencrypted: false,\n\t\t\tproceed: false,\n\t\t}\n\t},\n\twatch: {\n\t\tusername(value) {\n\t\t\tthis.user = value\n\t\t},\n\t},\n\tmethods: {\n\t\tasync submit() {\n\t\t\tthis.loading = true\n\t\t\tthis.error = false\n\t\t\tthis.message = ''\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await Axios.post(this.resetPasswordTarget, {\n\t\t\t\t\tpassword: this.password,\n\t\t\t\t\tproceed: this.proceed,\n\t\t\t\t})\n\t\t\t\tif (data && data.status === 'success') {\n\t\t\t\t\tthis.message = 'send-success'\n\t\t\t\t\tthis.$emit('update:username', this.user)\n\t\t\t\t\tthis.$emit('done')\n\t\t\t\t} else if (data && data.encryption) {\n\t\t\t\t\tthis.encrypted = true\n\t\t\t\t} else if (data && data.msg) {\n\t\t\t\t\tthrow new Error(data.msg)\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error()\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tthis.error = true\n\t\t\t\tthis.message = e.message ? e.message : t('core', 'Password cannot be changed. Please contact your administrator.')\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t},\n}\n<\/script>\n\n<style scoped>\n\tfieldset {\n\t\ttext-align: center;\n\t}\n\n\tinput[type=submit] {\n\t\tmargin-top: 20px;\n\t}\n</style>\n"],sourceRoot:""}]),e.Z=a},76591:function(t){"undefined"==typeof dav&&(dav={}),dav._XML_CHAR_MAP={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"},dav._escapeXml=function(t){return t.replace(/[<>&"']/g,(function(t){return dav._XML_CHAR_MAP[t]}))},dav.Client=function(t){var e;for(e in t)this[e]=t[e]},dav.Client.prototype={baseUrl:null,userName:null,password:null,xmlNamespaces:{"DAV:":"d"},propFind:function(t,e,n,r){void 0===n&&(n="0"),n=""+n,(r=r||{}).Depth=n,r["Content-Type"]="application/xml; charset=utf-8";var i,o='<?xml version="1.0"?>\n<d:propfind ';for(i in this.xmlNamespaces)o+=" xmlns:"+this.xmlNamespaces[i]+'="'+i+'"';for(var a in o+=">\n  <d:prop>\n",e)if(e.hasOwnProperty(a)){var s=this.parseClarkNotation(e[a]);this.xmlNamespaces[s.namespace]?o+="    <"+this.xmlNamespaces[s.namespace]+":"+s.name+" />\n":o+="    <x:"+s.name+' xmlns:x="'+s.namespace+'" />\n'}return o+="  </d:prop>\n",o+="</d:propfind>",this.request("PROPFIND",t,r,o).then(function(t){return"0"===n?{status:t.status,body:t.body[0],xhr:t.xhr}:{status:t.status,body:t.body,xhr:t.xhr}}.bind(this))},_renderPropSet:function(t){var e="  <d:set>\n   <d:prop>\n";for(var n in t)if(t.hasOwnProperty(n)){var r,i=this.parseClarkNotation(n),o=t[n];"d:resourcetype"!=(r=this.xmlNamespaces[i.namespace]?this.xmlNamespaces[i.namespace]+":"+i.name:"x:"+i.name+' xmlns:x="'+i.namespace+'"')&&(o=dav._escapeXml(o)),e+="      <"+r+">"+o+"</"+r+">\n"}return(e+="    </d:prop>\n")+"  </d:set>\n"},propPatch:function(t,e,n){(n=n||{})["Content-Type"]="application/xml; charset=utf-8";var r,i='<?xml version="1.0"?>\n<d:propertyupdate ';for(r in this.xmlNamespaces)i+=" xmlns:"+this.xmlNamespaces[r]+'="'+r+'"';return i+=">\n"+this._renderPropSet(e),i+="</d:propertyupdate>",this.request("PROPPATCH",t,n,i).then(function(t){return{status:t.status,body:t.body,xhr:t.xhr}}.bind(this))},mkcol:function(t,e,n){var r="";if((n=n||{})["Content-Type"]="application/xml; charset=utf-8",e){var i;for(i in r='<?xml version="1.0"?>\n<d:mkcol',this.xmlNamespaces)r+=" xmlns:"+this.xmlNamespaces[i]+'="'+i+'"';r+=">\n"+this._renderPropSet(e),r+="</d:mkcol>"}return this.request("MKCOL",t,n,r).then(function(t){return{status:t.status,body:t.body,xhr:t.xhr}}.bind(this))},request:function(t,e,n,r,i,o){var a,s=this,u=this.xhrProvider();for(a in n=n||{},i=i||"",this.userName&&(n.Authorization="Basic "+btoa(this.userName+":"+this.password)),u.open(t,this.resolveUrl(e),!0),n)u.setRequestHeader(a,n[a]);return u.responseType=i,o&&"function"==typeof o.onProgress&&("PUT"===t||"POST"===t?u.upload.addEventListener("progress",(function(t){o.onProgress(t)}),!1):u.addEventListener("progress",(function(t){o.onProgress(t)}),!1)),void 0===r?u.send():u.send(r),new Promise((function(t,e){u.onreadystatechange=function(){if(4===u.readyState){var e=u.response;207===u.status&&(e=s.parseMultiStatus(u.response)),t({body:e,status:u.status,xhr:u})}},u.ontimeout=function(){e(new Error("Timeout exceeded"))}}))},xhrProvider:function(){return new XMLHttpRequest},_parsePropNode:function(t){var e=null;if(t.childNodes&&t.childNodes.length>0){for(var n=[],r=0;r<t.childNodes.length;r++){var i=t.childNodes[r];1===i.nodeType&&n.push(i)}n.length&&(e=n)}return e||t.textContent||t.text||""},parseMultiStatus:function(t){for(var e=(new DOMParser).parseFromString(t,"application/xml"),n=function(t){var e;for(e in this.xmlNamespaces)if(this.xmlNamespaces[e]===t)return e}.bind(this),r=e.evaluate("/d:multistatus/d:response",e,n,XPathResult.ANY_TYPE,null),i=[],o=r.iterateNext();o;){var a={href:null,propStat:[]};a.href=e.evaluate("string(d:href)",o,n,XPathResult.ANY_TYPE,null).stringValue;for(var s=e.evaluate("d:propstat",o,n,XPathResult.ANY_TYPE,null),u=s.iterateNext();u;){for(var l={status:e.evaluate("string(d:status)",u,n,XPathResult.ANY_TYPE,null).stringValue,properties:{}},c=e.evaluate("d:prop/*",u,n,XPathResult.ANY_TYPE,null),f=c.iterateNext();f;){var d=this._parsePropNode(f);l.properties["{"+f.namespaceURI+"}"+f.localName]=d,f=c.iterateNext()}a.propStat.push(l),u=s.iterateNext()}i.push(a),o=r.iterateNext()}return i},resolveUrl:function(t){if(/^https?:\/\//i.test(t))return t;var e=this.parseUrl(this.baseUrl);return t.charAt("/")?e.root+t:(e.root,-1!==e.path.lastIndexOf("/")&&e.path.subString(0,e.path.lastIndexOf("/")),t)},parseUrl:function(t){var e=t.match(/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/),n={url:e[0],scheme:e[1],host:e[3],port:e[4],path:e[5],query:e[6],fragment:e[7]};return n.root=n.scheme+"://"+n.host+(n.port?":"+n.port:""),n},parseClarkNotation:function(t){var e=t.match(/^{([^}]+)}(.*)$/);if(e)return{name:e[2],namespace:e[1]}}},void 0!==t.exports&&(t.exports.Client=dav.Client),t.exports={dav:dav}},10944:function(t,e,n){var r=n(40202);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(o=a(n,"if").call(null!=e?e:t.nullContext||{},null!=(o=null!=e?a(e,"contact"):e)?a(o,"profileUrl"):o,{name:"if",hash:{},fn:t.program(2,i,0),inverse:t.program(5,i,0),data:i,loc:{start:{line:2,column:1},end:{line:10,column:8}}}))?o:""},2:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(o=a(n,"if").call(null!=e?e:t.nullContext||{},null!=(o=null!=e?a(e,"contact"):e)?a(o,"profileTitle"):o,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i,loc:{start:{line:3,column:2},end:{line:7,column:9}}}))?o:""},3:function(t,e,n,r,i){var o,a=t.lambda,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t<a class="profile-link--avatar" href="'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"profileUrl"):o,e))+'">\n\t\t\t\t<img src="'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"avatar"):o,e))+'&size=32" class="avatar" srcset="'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"avatar"):o,e))+"&size=32 1x, "+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"avatar"):o,e))+"&size=64 2x, "+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"avatar"):o,e))+'&size=128 4x" alt="'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"avatarLabel"):o,e))+'">\n\t\t\t</a>\n'},5:function(t,e,n,r,i){var o,a=t.lambda,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t<img src="'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"avatar"):o,e))+'&size=32" class="avatar" srcset="'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"avatar"):o,e))+"&size=32 1x, "+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"avatar"):o,e))+"&size=64 2x, "+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"avatar"):o,e))+'&size=128 4x" alt="'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"avatarLabel"):o,e))+'">\n'},7:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(o=a(n,"if").call(null!=e?e:t.nullContext||{},null!=(o=null!=e?a(e,"contact"):e)?a(o,"profileUrl"):o,{name:"if",hash:{},fn:t.program(8,i,0),inverse:t.program(11,i,0),data:i,loc:{start:{line:12,column:1},end:{line:20,column:8}}}))?o:""},8:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(o=a(n,"if").call(null!=e?e:t.nullContext||{},null!=(o=null!=e?a(e,"contact"):e)?a(o,"profileTitle"):o,{name:"if",hash:{},fn:t.program(9,i,0),inverse:t.noop,data:i,loc:{start:{line:13,column:2},end:{line:17,column:9}}}))?o:""},9:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t<a class="profile-link--avatar" href="'+t.escapeExpression(t.lambda(null!=(o=null!=e?a(e,"contact"):e)?a(o,"profileUrl"):o,e))+'">\n\t\t\t\t<div class="avatar"></div>\n\t\t\t</a>\n'},11:function(t,e,n,r,i){return'\t\t<div class="avatar"></div>\n'},13:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(o=s(n,"if").call(a,null!=(o=null!=e?s(e,"contact"):e)?s(o,"profileTitle"):o,{name:"if",hash:{},fn:t.program(14,i,0),inverse:t.noop,data:i,loc:{start:{line:23,column:1},end:{line:29,column:8}}}))?o:"")+(null!=(o=s(n,"if").call(a,null!=(o=null!=e?s(e,"contact"):e)?s(o,"topAction"):o,{name:"if",hash:{},fn:t.program(16,i,0),inverse:t.noop,data:i,loc:{start:{line:30,column:1},end:{line:34,column:8}}}))?o:"")},14:function(t,e,n,r,i){var o,a=t.lambda,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t<a class="body profile-link--full-name" href="'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"profileUrl"):o,e))+'">\n\t\t\t<div class="full-name">'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"fullName"):o,e))+'</div>\n\t\t\t<div class="last-message">'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"lastMessage"):o,e))+'</div>\n\t\t\t<div class="email-address">'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"emailAddresses"):o,e))+"</div>\n\t\t</a>\n"},16:function(t,e,n,r,i){var o,a=t.lambda,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t<a class="top-action" href="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"topAction"):o)?u(o,"hyperlink"):o,e))+'" title="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"topAction"):o)?u(o,"title"):o,e))+'" aria-label="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"topAction"):o)?u(o,"title"):o,e))+'">\n\t\t\t<img src="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"topAction"):o)?u(o,"icon"):o,e))+'" alt="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"topAction"):o)?u(o,"title"):o,e))+'">\n\t\t</a>\n'},18:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(o=a(n,"if").call(null!=e?e:t.nullContext||{},null!=(o=null!=e?a(e,"contact"):e)?a(o,"topAction"):o,{name:"if",hash:{},fn:t.program(19,i,0),inverse:t.program(21,i,0),data:i,loc:{start:{line:35,column:0},end:{line:50,column:0}}}))?o:""},19:function(t,e,n,r,i){var o,a=t.lambda,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t<a class="body" href="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"topAction"):o)?u(o,"hyperlink"):o,e))+'">\n\t\t<div class="full-name">'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"fullName"):o,e))+'</div>\n\t\t<div class="last-message">'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"lastMessage"):o,e))+'</div>\n\t\t<div class="email-address">'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"emailAddresses"):o,e))+'</div>\n\t</a>\n  \t<a class="top-action" href="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"topAction"):o)?u(o,"hyperlink"):o,e))+'" title="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"topAction"):o)?u(o,"title"):o,e))+'">\n  \t\t<img src="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"topAction"):o)?u(o,"icon"):o,e))+'" alt="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"topAction"):o)?u(o,"title"):o,e))+'">\n\t</a>\n'},21:function(t,e,n,r,i){var o,a=t.lambda,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t<div class="body">\n\t\t<div class="full-name">'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"fullName"):o,e))+'</div>\n\t\t<div class="last-message">'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"lastMessage"):o,e))+'</div>\n\t\t<div class="email-address">'+s(a(null!=(o=null!=e?u(e,"contact"):e)?u(o,"emailAddresses"):o,e))+"</div>\n\t</div>\n"},23:function(t,e,n,r,i){var o,a=t.lambda,s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<a class="second-action" href="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"secondAction"):o)?u(o,"hyperlink"):o,e))+'" aria-label="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"secondAction"):o)?u(o,"title"):o,e))+'" title="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"secondAction"):o)?u(o,"title"):o,e))+'">\n\t<img src="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"secondAction"):o)?u(o,"icon"):o,e))+'" alt="'+s(a(null!=(o=null!=(o=null!=e?u(e,"contact"):e)?u(o,"secondAction"):o)?u(o,"title"):o,e))+'">\n</a>\n'},25:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t<button class="other-actions icon-more"></button>\n\t<div class="menu popovermenu">\n\t\t<ul>\n'+(null!=(o=a(n,"each").call(null!=e?e:t.nullContext||{},null!=(o=null!=e?a(e,"contact"):e)?a(o,"actions"):o,{name:"each",hash:{},fn:t.program(26,i,0),inverse:t.noop,data:i,loc:{start:{line:60,column:3},end:{line:67,column:12}}}))?o:"")+"\t\t</ul>\n\t</div>\n"},26:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",l=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t<li>\n\t\t\t\t<a href="'+l(typeof(o=null!=(o=c(n,"hyperlink")||(null!=e?c(e,"hyperlink"):e))?o:s)===u?o.call(a,{name:"hyperlink",hash:{},data:i,loc:{start:{line:62,column:13},end:{line:62,column:26}}}):o)+'">\n\t\t\t\t\t<img src="'+l(typeof(o=null!=(o=c(n,"icon")||(null!=e?c(e,"icon"):e))?o:s)===u?o.call(a,{name:"icon",hash:{},data:i,loc:{start:{line:63,column:15},end:{line:63,column:23}}}):o)+'" alt="">\n\t\t\t\t\t<span>'+l(typeof(o=null!=(o=c(n,"title")||(null!=e?c(e,"title"):e))?o:s)===u?o.call(a,{name:"title",hash:{},data:i,loc:{start:{line:64,column:11},end:{line:64,column:20}}}):o)+"</span>\n\t\t\t\t</a>\n\t\t\t</li>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(o=s(n,"if").call(a,null!=(o=null!=e?s(e,"contact"):e)?s(o,"avatar"):o,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(7,i,0),data:i,loc:{start:{line:1,column:0},end:{line:21,column:7}}}))?o:"")+(null!=(o=s(n,"if").call(a,null!=(o=null!=e?s(e,"contact"):e)?s(o,"profileUrl"):o,{name:"if",hash:{},fn:t.program(13,i,0),inverse:t.program(18,i,0),data:i,loc:{start:{line:22,column:0},end:{line:50,column:7}}}))?o:"")+(null!=(o=s(n,"if").call(a,null!=(o=null!=e?s(e,"contact"):e)?s(o,"hasTwoActions"):o,{name:"if",hash:{},fn:t.program(23,i,0),inverse:t.noop,data:i,loc:{start:{line:51,column:0},end:{line:55,column:7}}}))?o:"")+(null!=(o=s(n,"if").call(a,null!=(o=null!=e?s(e,"contact"):e)?s(o,"hasManyActions"):o,{name:"if",hash:{},fn:t.program(25,i,0),inverse:t.noop,data:i,loc:{start:{line:56,column:0},end:{line:70,column:7}}}))?o:"")},useData:!0})},20421:function(t,e,n){var r=n(40202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="emptycontent">\n\t<div class="icon-search"></div>\n\t<h2>'+t.escapeExpression("function"==typeof(o=null!=(o=a(n,"couldNotLoadText")||(null!=e?a(e,"couldNotLoadText"):e))?o:t.hooks.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"couldNotLoadText",hash:{},data:i,loc:{start:{line:3,column:5},end:{line:3,column:25}}}):o)+"</h2>\n</div>\n"},useData:!0})},34083:function(t,e,n){var r=n(40202);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="emptycontent">\n\t<div class="icon-search"></div>\n\t<h2>'+t.escapeExpression("function"==typeof(o=null!=(o=a(n,"noContactsFoundText")||(null!=e?a(e,"noContactsFoundText"):e))?o:t.hooks.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"noContactsFoundText",hash:{},data:i,loc:{start:{line:4,column:5},end:{line:4,column:28}}}):o)+"</h2>\n</div>\n"},3:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",l=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="footer"><a href="'+l(typeof(o=null!=(o=c(n,"contactsAppURL")||(null!=e?c(e,"contactsAppURL"):e))?o:s)===u?o.call(a,{name:"contactsAppURL",hash:{},data:i,loc:{start:{line:9,column:29},end:{line:9,column:47}}}):o)+'">'+l(typeof(o=null!=(o=c(n,"showAllContactsText")||(null!=e?c(e,"showAllContactsText"):e))?o:s)===u?o.call(a,{name:"showAllContactsText",hash:{},data:i,loc:{start:{line:9,column:49},end:{line:9,column:72}}}):o)+"</a></div>\n"},5:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(o=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"canInstallApp"):e,{name:"if",hash:{},fn:t.program(6,i,0),inverse:t.noop,data:i,loc:{start:{line:10,column:0},end:{line:12,column:0}}}))?o:""},6:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",l=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="footer"><a href="'+l(typeof(o=null!=(o=c(n,"contactsAppMgmtURL")||(null!=e?c(e,"contactsAppMgmtURL"):e))?o:s)===u?o.call(a,{name:"contactsAppMgmtURL",hash:{},data:i,loc:{start:{line:11,column:29},end:{line:11,column:51}}}):o)+'">'+l(typeof(o=null!=(o=c(n,"contactsAppMgmtText")||(null!=e?c(e,"contactsAppMgmtText"):e))?o:s)===u?o.call(a,{name:"contactsAppMgmtText",hash:{},data:i,loc:{start:{line:11,column:53},end:{line:11,column:76}}}):o)+"</a></div>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(o=s(n,"unless").call(a,null!=(o=null!=e?s(e,"contacts"):e)?s(o,"length"):o,{name:"unless",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:1,column:0},end:{line:6,column:11}}}))?o:"")+'<div id="contactsmenu-contacts"></div>\n'+(null!=(o=s(n,"if").call(a,null!=e?s(e,"contactsAppEnabled"):e,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.program(5,i,0),data:i,loc:{start:{line:8,column:0},end:{line:12,column:7}}}))?o:"")},useData:!0})},95386:function(t,e,n){var r=n(40202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="emptycontent">\n\t<div class="icon-loading"></div>\n\t<h2>'+t.escapeExpression("function"==typeof(o=null!=(o=a(n,"loadingText")||(null!=e?a(e,"loadingText"):e))?o:t.hooks.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"loadingText",hash:{},data:i,loc:{start:{line:3,column:5},end:{line:3,column:20}}}):o)+"</h2>\n</div>\n"},useData:!0})},66115:function(t,e,n){var r=n(40202);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",l=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<label class="hidden-visually" for="contactsmenu-search">'+l(typeof(o=null!=(o=c(n,"searchContactsText")||(null!=e?c(e,"searchContactsText"):e))?o:s)===u?o.call(a,{name:"searchContactsText",hash:{},data:i,loc:{start:{line:1,column:57},end:{line:1,column:79}}}):o)+'</label>\n<input id="contactsmenu-search" type="search" placeholder="'+l(typeof(o=null!=(o=c(n,"searchContactsText")||(null!=e?c(e,"searchContactsText"):e))?o:s)===u?o.call(a,{name:"searchContactsText",hash:{},data:i,loc:{start:{line:2,column:59},end:{line:2,column:81}}}):o)+'" value="'+l(typeof(o=null!=(o=c(n,"searchTerm")||(null!=e?c(e,"searchTerm"):e))?o:s)===u?o.call(a,{name:"searchTerm",hash:{},data:i,loc:{start:{line:2,column:90},end:{line:2,column:104}}}):o)+'">\n<div class="content">\n</div>\n'},useData:!0})},46700:function(t,e,n){var r={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=46700},24654:function(){},52361:function(){},94616:function(){},5656:function(t,e,n){"use strict";n.d(e,{RL:function(){return T},_o:function(){return E},h7:function(){return b},pC:function(){return O},rp:function(){return N},sS:function(){return d},tB:function(){return w}});var r=n(77958),i=n(17499),o=n(31352),a=n(62520),s=n(79753),u=n(14596),l=n(26721);(t=>{null===t?(0,i.IY)().setApp("files").build():(0,i.IY)().setApp("files").setUid(t.uid).build()})((0,r.ts)());const c=["B","KB","MB","GB","TB","PB"],f=["B","KiB","MiB","GiB","TiB","PiB"];function d(t,e=!1,n=!1){"string"==typeof t&&(t=Number(t));let r=t>0?Math.floor(Math.log(t)/Math.log(n?1024:1e3)):0;r=Math.min((n?f.length:c.length)-1,r);const i=n?f[r]:c[r];let a=(t/Math.pow(n?1024:1e3,r)).toFixed(1);return!0===e&&0===r?("0.0"!==a?"< 1 ":"0 ")+(n?f[1]:c[1]):(a=r<2?parseFloat(a).toFixed(0):parseFloat(a).toLocaleString((0,o.aj)()),a+" "+i)}var p=(t=>(t.DEFAULT="default",t.HIDDEN="hidden",t))(p||{}),h=(t=>(t[t.NONE=0]="NONE",t[t.CREATE=4]="CREATE",t[t.READ=1]="READ",t[t.UPDATE=2]="UPDATE",t[t.DELETE=8]="DELETE",t[t.SHARE=16]="SHARE",t[t.ALL=31]="ALL",t))(h||{});const m=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","nc:share-attributes","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:share-types","oc:size","ocs:share-permissions"],g={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},v=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...m]),window._nc_dav_properties.map((t=>`<${t} />`)).join(" ")},y=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...g}),Object.keys(window._nc_dav_namespaces).map((t=>`xmlns:${t}="${window._nc_dav_namespaces?.[t]}"`)).join(" ")},b=function(){return`<?xml version="1.0"?>\n\t\t<d:propfind ${y()}>\n\t\t\t<d:prop>\n\t\t\t\t${v()}\n\t\t\t</d:prop>\n\t\t</d:propfind>`},w=function(t){return`<?xml version="1.0" encoding="UTF-8"?>\n<d:searchrequest ${y()}\n\txmlns:ns="https://github.com/icewind1991/SearchDAV/ns">\n\t<d:basicsearch>\n\t\t<d:select>\n\t\t\t<d:prop>\n\t\t\t\t${v()}\n\t\t\t</d:prop>\n\t\t</d:select>\n\t\t<d:from>\n\t\t\t<d:scope>\n\t\t\t\t<d:href>/files/${(0,r.ts)()?.uid}/</d:href>\n\t\t\t\t<d:depth>infinity</d:depth>\n\t\t\t</d:scope>\n\t\t</d:from>\n\t\t<d:where>\n\t\t\t<d:and>\n\t\t\t\t<d:or>\n\t\t\t\t\t<d:not>\n\t\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t\t<d:getcontenttype/>\n\t\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t\t<d:literal>httpd/unix-directory</d:literal>\n\t\t\t\t\t\t</d:eq>\n\t\t\t\t\t</d:not>\n\t\t\t\t\t<d:eq>\n\t\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t\t<oc:size/>\n\t\t\t\t\t\t</d:prop>\n\t\t\t\t\t\t<d:literal>0</d:literal>\n\t\t\t\t\t</d:eq>\n\t\t\t\t</d:or>\n\t\t\t\t<d:gt>\n\t\t\t\t\t<d:prop>\n\t\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t\t</d:prop>\n\t\t\t\t\t<d:literal>${t}</d:literal>\n\t\t\t\t</d:gt>\n\t\t\t</d:and>\n\t\t</d:where>\n\t\t<d:orderby>\n\t\t\t<d:order>\n\t\t\t\t<d:prop>\n\t\t\t\t\t<d:getlastmodified/>\n\t\t\t\t</d:prop>\n\t\t\t\t<d:descending/>\n\t\t\t</d:order>\n\t\t</d:orderby>\n\t\t<d:limit>\n\t\t\t<d:nresults>100</d:nresults>\n\t\t\t<ns:firstresult>0</ns:firstresult>\n\t\t</d:limit>\n\t</d:basicsearch>\n</d:searchrequest>`};var x=(t=>(t.Folder="folder",t.File="file",t))(x||{});const A=function(t,e){return null!==t.match(e)},_=(t,e)=>{if(t.id&&"number"!=typeof t.id)throw new Error("Invalid id type of value");if(!t.source)throw new Error("Missing mandatory source");try{new URL(t.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!t.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(t.mtime&&!(t.mtime instanceof Date))throw new Error("Invalid mtime type");if(t.crtime&&!(t.crtime instanceof Date))throw new Error("Invalid crtime type");if(!t.mime||"string"!=typeof t.mime||!t.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in t&&"number"!=typeof t.size&&void 0!==t.size)throw new Error("Invalid size type");if("permissions"in t&&void 0!==t.permissions&&!("number"==typeof t.permissions&&t.permissions>=h.NONE&&t.permissions<=h.ALL))throw new Error("Invalid permissions");if(t.owner&&null!==t.owner&&"string"!=typeof t.owner)throw new Error("Invalid owner type");if(t.attributes&&"object"!=typeof t.attributes)throw new Error("Invalid attributes type");if(t.root&&"string"!=typeof t.root)throw new Error("Invalid root type");if(t.root&&!t.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(t.root&&!t.source.includes(t.root))throw new Error("Root must be part of the source");if(t.root&&A(t.source,e)){const n=t.source.match(e)[0];if(!t.source.includes((0,a.join)(n,t.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}};class C{_data;_attributes;_knownDavService=/(remote|public)\.php\/(web)?dav/i;constructor(t,e){_(t,e||this._knownDavService),this._data=t;const n={set:(t,e,n)=>(this.updateMtime(),Reflect.set(t,e,n)),deleteProperty:(t,e)=>(this.updateMtime(),Reflect.deleteProperty(t,e))};this._attributes=new Proxy(t.attributes||{},n),delete this._data.attributes,e&&(this._knownDavService=e)}get source(){return this._data.source.replace(/\/$/i,"")}get basename(){return(0,a.basename)(this.source)}get extension(){return(0,a.extname)(this.source)}get dirname(){if(this.root){const t=this.source.indexOf(this.root);return(0,a.dirname)(this.source.slice(t+this.root.length)||"/")}const t=new URL(this.source);return(0,a.dirname)(t.pathname)}get mime(){return this._data.mime}get mtime(){return this._data.mtime}get crtime(){return this._data.crtime}get size(){return this._data.size}get attributes(){return this._attributes}get permissions(){return null!==this.owner||this.isDavRessource?void 0!==this._data.permissions?this._data.permissions:h.NONE:h.READ}get owner(){return this.isDavRessource?this._data.owner:null}get isDavRessource(){return A(this.source,this._knownDavService)}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavRessource&&(0,a.dirname)(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){const t=this.source.indexOf(this.root);return this.source.slice(t+this.root.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){return this._data?.id||this.attributes?.fileid}move(t){_({...this._data,source:t},this._knownDavService),this._data.source=t,this.updateMtime()}rename(t){if(t.includes("/"))throw new Error("Invalid basename");this.move((0,a.dirname)(this.source)+"/"+t)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}}class k extends C{get type(){return x.File}}class P extends C{constructor(t){super({...t,mime:"httpd/unix-directory"})}get type(){return x.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}}const E=`/files/${(0,r.ts)()?.uid}`,j=(0,s.generateRemoteUrl)("dav"),N=function(t=j){const e=(0,u.eI)(t,{headers:{requesttoken:(0,r.IH)()||""}});return(0,u.lD)().patch("request",(t=>(t.headers?.method&&(t.method=t.headers.method,delete t.headers.method),(0,l.W)(t)))),e},O=async(t,e="/",n=E)=>(await t.getDirectoryContents(`${n}${e}`,{details:!0,data:`<?xml version="1.0"?>\n\t\t<oc:filter-files ${y()}>\n\t\t\t<d:prop>\n\t\t\t\t${v()}\n\t\t\t</d:prop>\n\t\t\t<oc:filter-rules>\n\t\t\t\t<oc:favorite>1</oc:favorite>\n\t\t\t</oc:filter-rules>\n\t\t</oc:filter-files>`,headers:{method:"REPORT"},includeSelf:!0})).data.filter((t=>t.filename!==e)).map((t=>T(t,n))),T=function(t,e=E,n=j){const i=t.props,o=function(t=""){let e=h.NONE;return t&&((t.includes("C")||t.includes("K"))&&(e|=h.CREATE),t.includes("G")&&(e|=h.READ),(t.includes("W")||t.includes("N")||t.includes("V"))&&(e|=h.UPDATE),t.includes("D")&&(e|=h.DELETE),t.includes("R")&&(e|=h.SHARE)),e}(i?.permissions),a=(0,r.ts)()?.uid,s={id:i?.fileid||0,source:`${n}${t.filename}`,mtime:new Date(Date.parse(t.lastmod)),mime:t.mime,size:i?.size||Number.parseInt(i.getcontentlength||"0"),permissions:o,owner:a,root:e,attributes:{...t,...i,hasPreview:i?.["has-preview"]}};return delete s.attributes?.props,"file"===t.type?new k(s):new P(s)};var S={};!function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+e+"]["+e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",r=new RegExp("^"+n+"$");t.isExist=function(t){return typeof t<"u"},t.isEmptyObject=function(t){return 0===Object.keys(t).length},t.merge=function(t,e,n){if(e){const r=Object.keys(e),i=r.length;for(let o=0;o<i;o++)t[r[o]]="strict"===n?[e[r[o]]]:e[r[o]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(t){const e=r.exec(t);return!(null===e||typeof e>"u")},t.getAllMatches=function(t,e){const n=[];let r=e.exec(t);for(;r;){const i=[];i.startIndex=e.lastIndex-r[0].length;const o=r.length;for(let t=0;t<o;t++)i.push(r[t]);n.push(i),r=e.exec(t)}return n},t.nameRegexp=n}(S);new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");var L={};const I={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}};L.buildOptions=function(t){return Object.assign({},I,t)},L.defaultOptions=I,!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,S.nameRegexp),new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");var R={};function F(t,e,n){let r;const i={};for(let o=0;o<t.length;o++){const a=t[o],s=U(a);let u="";if(u=void 0===n?s:n+"."+s,s===e.textNodeName)void 0===r?r=a[s]:r+=""+a[s];else{if(void 0===s)continue;if(a[s]){let t=F(a[s],e,u);const n=B(t,e);a[":@"]?M(t,a[":@"],u,e):1!==Object.keys(t).length||void 0===t[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(t).length&&(e.alwaysCreateTextNode?t[e.textNodeName]="":t=""):t=t[e.textNodeName],void 0!==i[s]&&i.hasOwnProperty(s)?(Array.isArray(i[s])||(i[s]=[i[s]]),i[s].push(t)):e.isArray(s,u,n)?i[s]=[t]:i[s]=t}}}return"string"==typeof r?r.length>0&&(i[e.textNodeName]=r):void 0!==r&&(i[e.textNodeName]=r),i}function U(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=e[t];if(":@"!==n)return n}}function M(t,e,n,r){if(e){const i=Object.keys(e),o=i.length;for(let a=0;a<o;a++){const o=i[a];r.isArray(o,n+"."+o,!0,!0)?t[o]=[e[o]]:t[o]=e[o]}}}function B(t,e){const{textNodeName:n}=e,r=Object.keys(t).length;return!(0!==r&&(1!==r||!t[n]&&"boolean"!=typeof t[n]&&0!==t[n]))}R.prettify=function(t,e){return F(t,e)};const{buildOptions:D}=L,{prettify:$}=R;function z(t,e,n,r){let i="",o=!1;for(let a=0;a<t.length;a++){const s=t[a],u=q(s);let l="";if(l=0===n.length?u:`${n}.${u}`,u===e.textNodeName){let t=s[u];V(l,e)||(t=e.tagValueProcessor(u,t),t=K(t,e)),o&&(i+=r),i+=t,o=!1;continue}if(u===e.cdataPropName){o&&(i+=r),i+=`<![CDATA[${s[u][0][e.textNodeName]}]]>`,o=!1;continue}if(u===e.commentPropName){i+=r+`\x3c!--${s[u][0][e.textNodeName]}--\x3e`,o=!0;continue}if("?"===u[0]){const t=H(s[":@"],e),n="?xml"===u?"":r;let a=s[u][0][e.textNodeName];a=0!==a.length?" "+a:"",i+=n+`<${u}${a}${t}?>`,o=!0;continue}let c=r;""!==c&&(c+=e.indentBy);const f=r+`<${u}${H(s[":@"],e)}`,d=z(s[u],e,l,c);-1!==e.unpairedTags.indexOf(u)?e.suppressUnpairedNode?i+=f+">":i+=f+"/>":d&&0!==d.length||!e.suppressEmptyNode?d&&d.endsWith(">")?i+=f+`>${d}${r}</${u}>`:(i+=f+">",d&&""!==r&&(d.includes("/>")||d.includes("</"))?i+=r+e.indentBy+d+r:i+=d,i+=`</${u}>`):i+=f+"/>",o=!0}return i}function q(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=e[t];if(":@"!==n)return n}}function H(t,e){let n="";if(t&&!e.ignoreAttributes)for(let r in t){let i=e.attributeValueProcessor(r,t[r]);i=K(i,e),!0===i&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${i}"`}return n}function V(t,e){let n=(t=t.substr(0,t.length-e.textNodeName.length-1)).substr(t.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function K(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const r=e.entities[n];t=t.replace(r.regex,r.val)}return t}const Z=function(t,e){let n="";return e.format&&e.indentBy.length>0&&(n="\n"),z(t,e,"",n)},Y={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function G(t){this.options=Object.assign({},Y,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=X),this.processTextOrObjNode=W,this.options.format?(this.indentate=J,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function W(t,e,n){const r=this.j2x(t,n+1);return void 0!==t[this.options.textNodeName]&&1===Object.keys(t).length?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}function J(t){return this.options.indentBy.repeat(t)}function X(t){return!(!t.startsWith(this.options.attributeNamePrefix)||t===this.options.textNodeName)&&t.substr(this.attrPrefixLen)}G.prototype.build=function(t){return this.options.preserveOrder?Z(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)},G.prototype.j2x=function(t,e){let n="",r="";for(let i in t)if(typeof t[i]>"u")this.isAttribute(i)&&(r+="");else if(null===t[i])this.isAttribute(i)?r+="":"?"===i[0]?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)r+=this.buildTextValNode(t[i],i,"",e);else if("object"!=typeof t[i]){const o=this.isAttribute(i);if(o)n+=this.buildAttrPairStr(o,""+t[i]);else if(i===this.options.textNodeName){let e=this.options.tagValueProcessor(i,""+t[i]);r+=this.replaceEntitiesValue(e)}else r+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){const n=t[i].length;let o="";for(let a=0;a<n;a++){const n=t[i][a];typeof n>"u"||(null===n?"?"===i[0]?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar:"object"==typeof n?this.options.oneListGroup?o+=this.j2x(n,e+1).val:o+=this.processTextOrObjNode(n,i,e):o+=this.buildTextValNode(n,i,"",e))}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,"",e)),r+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const e=Object.keys(t[i]),r=e.length;for(let o=0;o<r;o++)n+=this.buildAttrPairStr(e[o],""+t[i][e[o]])}else r+=this.processTextOrObjNode(t[i],i,e);return{attrStr:n,val:r}},G.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&"true"===e?" "+t:" "+t+'="'+e+'"'},G.prototype.buildObjectNode=function(t,e,n,r){if(""===t)return"?"===e[0]?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,o="";return"?"===e[0]&&(o="?",i=""),!n&&""!==n||-1!==t.indexOf("<")?!1!==this.options.commentPropName&&e===this.options.commentPropName&&0===o.length?this.indentate(r)+`\x3c!--${t}--\x3e`+this.newLine:this.indentate(r)+"<"+e+n+o+this.tagEndChar+t+this.indentate(r)+i:this.indentate(r)+"<"+e+n+o+">"+t+i}},G.prototype.closeTag=function(t){let e="";return-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode||(e="/"):e=this.options.suppressEmptyNode?"/":`></${t}`,e},G.prototype.buildTextValNode=function(t,e,n,r){if(!1!==this.options.cdataPropName&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(!1!==this.options.commentPropName&&e===this.options.commentPropName)return this.indentate(r)+`\x3c!--${t}--\x3e`+this.newLine;if("?"===e[0])return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),""===i?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar}},G.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t}},59050:function(t,e,n){"use strict";n.r(e),n.d(e,{VERSION:function(){return i},after:function(){return Ie},all:function(){return tn},allKeys:function(){return gt},any:function(){return en},assign:function(){return It},before:function(){return Re},bind:function(){return Ae},bindAll:function(){return ke},chain:function(){return ye},chunk:function(){return Mn},clone:function(){return Mt},collect:function(){return Ye},compact:function(){return En},compose:function(){return Le},constant:function(){return X},contains:function(){return nn},countBy:function(){return vn},create:function(){return Ut},debounce:function(){return Oe},default:function(){return qn},defaults:function(){return Rt},defer:function(){return je},delay:function(){return Ee},detect:function(){return Ve},difference:function(){return Nn},drop:function(){return kn},each:function(){return Ze},escape:function(){return ae},every:function(){return tn},extend:function(){return Lt},extendOwn:function(){return It},filter:function(){return Xe},find:function(){return Ve},findIndex:function(){return Be},findKey:function(){return Ue},findLastIndex:function(){return De},findWhere:function(){return Ke},first:function(){return Cn},flatten:function(){return jn},foldl:function(){return We},foldr:function(){return Je},forEach:function(){return Ze},functions:function(){return Tt},get:function(){return qt},groupBy:function(){return mn},has:function(){return Ht},head:function(){return Cn},identity:function(){return Vt},include:function(){return nn},includes:function(){return nn},indexBy:function(){return gn},indexOf:function(){return qe},initial:function(){return _n},inject:function(){return We},intersection:function(){return Ln},invert:function(){return Ot},invoke:function(){return rn},isArguments:function(){return G},isArray:function(){return K},isArrayBuffer:function(){return U},isBoolean:function(){return j},isDataView:function(){return V},isDate:function(){return L},isElement:function(){return N},isEmpty:function(){return ut},isEqual:function(){return mt},isError:function(){return R},isFinite:function(){return W},isFunction:function(){return D},isMap:function(){return Ct},isMatch:function(){return lt},isNaN:function(){return J},isNull:function(){return P},isNumber:function(){return S},isObject:function(){return k},isRegExp:function(){return I},isSet:function(){return Pt},isString:function(){return T},isSymbol:function(){return F},isTypedArray:function(){return it},isUndefined:function(){return E},isWeakMap:function(){return kt},isWeakSet:function(){return Et},iteratee:function(){return Wt},keys:function(){return st},last:function(){return Pn},lastIndexOf:function(){return He},map:function(){return Ye},mapObject:function(){return Xt},matcher:function(){return Kt},matches:function(){return Kt},max:function(){return sn},memoize:function(){return Pe},methods:function(){return Tt},min:function(){return un},mixin:function(){return Dn},negate:function(){return Se},noop:function(){return Qt},now:function(){return re},object:function(){return Fn},omit:function(){return An},once:function(){return Fe},pairs:function(){return Nt},partial:function(){return xe},partition:function(){return yn},pick:function(){return xn},pluck:function(){return on},property:function(){return Zt},propertyOf:function(){return te},random:function(){return ne},range:function(){return Un},reduce:function(){return We},reduceRight:function(){return Je},reject:function(){return Qe},rest:function(){return kn},restArguments:function(){return C},result:function(){return me},sample:function(){return fn},select:function(){return Xe},shuffle:function(){return dn},size:function(){return bn},some:function(){return en},sortBy:function(){return pn},sortedIndex:function(){return $e},tail:function(){return kn},take:function(){return Cn},tap:function(){return Bt},template:function(){return he},templateSettings:function(){return ue},throttle:function(){return Ne},times:function(){return ee},toArray:function(){return cn},toPath:function(){return Dt},transpose:function(){return In},unescape:function(){return se},union:function(){return Sn},uniq:function(){return Tn},unique:function(){return Tn},uniqueId:function(){return ve},unzip:function(){return In},values:function(){return jt},where:function(){return an},without:function(){return On},wrap:function(){return Te},zip:function(){return Rn}});var r={};n.r(r),n.d(r,{VERSION:function(){return i},after:function(){return Ie},all:function(){return tn},allKeys:function(){return gt},any:function(){return en},assign:function(){return It},before:function(){return Re},bind:function(){return Ae},bindAll:function(){return ke},chain:function(){return ye},chunk:function(){return Mn},clone:function(){return Mt},collect:function(){return Ye},compact:function(){return En},compose:function(){return Le},constant:function(){return X},contains:function(){return nn},countBy:function(){return vn},create:function(){return Ut},debounce:function(){return Oe},default:function(){return $n},defaults:function(){return Rt},defer:function(){return je},delay:function(){return Ee},detect:function(){return Ve},difference:function(){return Nn},drop:function(){return kn},each:function(){return Ze},escape:function(){return ae},every:function(){return tn},extend:function(){return Lt},extendOwn:function(){return It},filter:function(){return Xe},find:function(){return Ve},findIndex:function(){return Be},findKey:function(){return Ue},findLastIndex:function(){return De},findWhere:function(){return Ke},first:function(){return Cn},flatten:function(){return jn},foldl:function(){return We},foldr:function(){return Je},forEach:function(){return Ze},functions:function(){return Tt},get:function(){return qt},groupBy:function(){return mn},has:function(){return Ht},head:function(){return Cn},identity:function(){return Vt},include:function(){return nn},includes:function(){return nn},indexBy:function(){return gn},indexOf:function(){return qe},initial:function(){return _n},inject:function(){return We},intersection:function(){return Ln},invert:function(){return Ot},invoke:function(){return rn},isArguments:function(){return G},isArray:function(){return K},isArrayBuffer:function(){return U},isBoolean:function(){return j},isDataView:function(){return V},isDate:function(){return L},isElement:function(){return N},isEmpty:function(){return ut},isEqual:function(){return mt},isError:function(){return R},isFinite:function(){return W},isFunction:function(){return D},isMap:function(){return Ct},isMatch:function(){return lt},isNaN:function(){return J},isNull:function(){return P},isNumber:function(){return S},isObject:function(){return k},isRegExp:function(){return I},isSet:function(){return Pt},isString:function(){return T},isSymbol:function(){return F},isTypedArray:function(){return it},isUndefined:function(){return E},isWeakMap:function(){return kt},isWeakSet:function(){return Et},iteratee:function(){return Wt},keys:function(){return st},last:function(){return Pn},lastIndexOf:function(){return He},map:function(){return Ye},mapObject:function(){return Xt},matcher:function(){return Kt},matches:function(){return Kt},max:function(){return sn},memoize:function(){return Pe},methods:function(){return Tt},min:function(){return un},mixin:function(){return Dn},negate:function(){return Se},noop:function(){return Qt},now:function(){return re},object:function(){return Fn},omit:function(){return An},once:function(){return Fe},pairs:function(){return Nt},partial:function(){return xe},partition:function(){return yn},pick:function(){return xn},pluck:function(){return on},property:function(){return Zt},propertyOf:function(){return te},random:function(){return ne},range:function(){return Un},reduce:function(){return We},reduceRight:function(){return Je},reject:function(){return Qe},rest:function(){return kn},restArguments:function(){return C},result:function(){return me},sample:function(){return fn},select:function(){return Xe},shuffle:function(){return dn},size:function(){return bn},some:function(){return en},sortBy:function(){return pn},sortedIndex:function(){return $e},tail:function(){return kn},take:function(){return Cn},tap:function(){return Bt},template:function(){return he},templateSettings:function(){return ue},throttle:function(){return Ne},times:function(){return ee},toArray:function(){return cn},toPath:function(){return Dt},transpose:function(){return In},unescape:function(){return se},union:function(){return Sn},uniq:function(){return Tn},unique:function(){return Tn},uniqueId:function(){return ve},unzip:function(){return In},values:function(){return jt},where:function(){return an},without:function(){return On},wrap:function(){return Te},zip:function(){return Rn}});var i="1.13.6",o="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},a=Array.prototype,s=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,l=a.push,c=a.slice,f=s.toString,d=s.hasOwnProperty,p="undefined"!=typeof ArrayBuffer,h="undefined"!=typeof DataView,m=Array.isArray,g=Object.keys,v=Object.create,y=p&&ArrayBuffer.isView,b=isNaN,w=isFinite,x=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_=Math.pow(2,53)-1;function C(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}function k(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function P(t){return null===t}function E(t){return void 0===t}function j(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)}function N(t){return!(!t||1!==t.nodeType)}function O(t){var e="[object "+t+"]";return function(t){return f.call(t)===e}}var T=O("String"),S=O("Number"),L=O("Date"),I=O("RegExp"),R=O("Error"),F=O("Symbol"),U=O("ArrayBuffer"),M=O("Function"),B=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof B&&(M=function(t){return"function"==typeof t||!1});var D=M,$=O("Object"),z=h&&$(new DataView(new ArrayBuffer(8))),q="undefined"!=typeof Map&&$(new Map),H=O("DataView"),V=z?function(t){return null!=t&&D(t.getInt8)&&U(t.buffer)}:H,K=m||O("Array");function Z(t,e){return null!=t&&d.call(t,e)}var Y=O("Arguments");!function(){Y(arguments)||(Y=function(t){return Z(t,"callee")})}();var G=Y;function W(t){return!F(t)&&w(t)&&!isNaN(parseFloat(t))}function J(t){return S(t)&&b(t)}function X(t){return function(){return t}}function Q(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=_}}function tt(t){return function(e){return null==e?void 0:e[t]}}var et=tt("byteLength"),nt=Q(et),rt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,it=p?function(t){return y?y(t)&&!V(t):nt(t)&&rt.test(f.call(t))}:X(!1),ot=tt("length");function at(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=A.length,r=t.constructor,i=D(r)&&r.prototype||s,o="constructor";for(Z(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=A[n])in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}function st(t){if(!k(t))return[];if(g)return g(t);var e=[];for(var n in t)Z(t,n)&&e.push(n);return x&&at(t,e),e}function ut(t){if(null==t)return!0;var e=ot(t);return"number"==typeof e&&(K(t)||T(t)||G(t))?0===e:0===ot(st(t))}function lt(t,e){var n=st(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}function ct(t){return t instanceof ct?t:this instanceof ct?void(this._wrapped=t):new ct(t)}function ft(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,et(t))}ct.VERSION=i,ct.prototype.value=function(){return this._wrapped},ct.prototype.valueOf=ct.prototype.toJSON=ct.prototype.value,ct.prototype.toString=function(){return String(this._wrapped)};var dt="[object DataView]";function pt(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&ht(t,e,n,r)}function ht(t,e,n,r){t instanceof ct&&(t=t._wrapped),e instanceof ct&&(e=e._wrapped);var i=f.call(t);if(i!==f.call(e))return!1;if(z&&"[object Object]"==i&&V(t)){if(!V(e))return!1;i=dt}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return u.valueOf.call(t)===u.valueOf.call(e);case"[object ArrayBuffer]":case dt:return ht(ft(t),ft(e),n,r)}var o="[object Array]"===i;if(!o&&it(t)){if(et(t)!==et(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(D(a)&&a instanceof a&&D(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return r[l]===e;if(n.push(t),r.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!pt(t[l],e[l],n,r))return!1}else{var c,d=st(t);if(l=d.length,st(e).length!==l)return!1;for(;l--;)if(!Z(e,c=d[l])||!pt(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0}function mt(t,e){return pt(t,e)}function gt(t){if(!k(t))return[];var e=[];for(var n in t)e.push(n);return x&&at(t,e),e}function vt(t){var e=ot(t);return function(n){if(null==n)return!1;var r=gt(n);if(ot(r))return!1;for(var i=0;i<e;i++)if(!D(n[t[i]]))return!1;return t!==At||!D(n[yt])}}var yt="forEach",bt=["clear","delete"],wt=["get","has","set"],xt=bt.concat(yt,wt),At=bt.concat(wt),_t=["add"].concat(bt,yt,"has"),Ct=q?vt(xt):O("Map"),kt=q?vt(At):O("WeakMap"),Pt=q?vt(_t):O("Set"),Et=O("WeakSet");function jt(t){for(var e=st(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function Nt(t){for(var e=st(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function Ot(t){for(var e={},n=st(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function Tt(t){var e=[];for(var n in t)D(t[n])&&e.push(n);return e.sort()}function St(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,u=0;u<s;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}}var Lt=St(gt),It=St(st),Rt=St(gt,!0);function Ft(t){if(!k(t))return{};if(v)return v(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function Ut(t,e){var n=Ft(t);return e&&It(n,e),n}function Mt(t){return k(t)?K(t)?t.slice():Lt({},t):t}function Bt(t,e){return e(t),t}function Dt(t){return K(t)?t:[t]}function $t(t){return ct.toPath(t)}function zt(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function qt(t,e,n){var r=zt(t,$t(e));return E(r)?n:r}function Ht(t,e){for(var n=(e=$t(e)).length,r=0;r<n;r++){var i=e[r];if(!Z(t,i))return!1;t=t[i]}return!!n}function Vt(t){return t}function Kt(t){return t=It({},t),function(e){return lt(e,t)}}function Zt(t){return t=$t(t),function(e){return zt(e,t)}}function Yt(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}function Gt(t,e,n){return null==t?Vt:D(t)?Yt(t,e,n):k(t)&&!K(t)?Kt(t):Zt(t)}function Wt(t,e){return Gt(t,e,1/0)}function Jt(t,e,n){return ct.iteratee!==Wt?ct.iteratee(t,e):Gt(t,e,n)}function Xt(t,e,n){e=Jt(e,n);for(var r=st(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o}function Qt(){}function te(t){return null==t?Qt:function(e){return qt(t,e)}}function ee(t,e,n){var r=Array(Math.max(0,t));e=Yt(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function ne(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}ct.toPath=Dt,ct.iteratee=Wt;var re=Date.now||function(){return(new Date).getTime()};function ie(t){var e=function(e){return t[e]},n="(?:"+st(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}var oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ae=ie(oe),se=ie(Ot(oe)),ue=ct.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},le=/(.)^/,ce={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},fe=/\\|'|\r|\n|\u2028|\u2029/g;function de(t){return"\\"+ce[t]}var pe=/^\s*(\w|\$)+\s*$/;function he(t,e,n){!e&&n&&(e=n),e=Rt({},e,ct.templateSettings);var r=RegExp([(e.escape||le).source,(e.interpolate||le).source,(e.evaluate||le).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,(function(e,n,r,a,s){return o+=t.slice(i,s).replace(fe,de),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e})),o+="';\n";var a,s=e.variable;if(s){if(!pe.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(s,"_",o)}catch(t){throw t.source=o,t}var u=function(t){return a.call(this,t,ct)};return u.source="function("+s+"){\n"+o+"}",u}function me(t,e,n){var r=(e=$t(e)).length;if(!r)return D(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=D(o)?o.call(t):o}return t}var ge=0;function ve(t){var e=++ge+"";return t?t+e:e}function ye(t){var e=ct(t);return e._chain=!0,e}function be(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=Ft(t.prototype),a=t.apply(o,i);return k(a)?a:o}var we=C((function(t,e){var n=we.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return be(t,r,this,this,a)};return r}));we.placeholder=ct;var xe=we,Ae=C((function(t,e,n){if(!D(t))throw new TypeError("Bind must be called on a function");var r=C((function(i){return be(t,r,e,this,n.concat(i))}));return r})),_e=Q(ot);function Ce(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var i=r.length,o=0,a=ot(t);o<a;o++){var s=t[o];if(_e(s)&&(K(s)||G(s)))if(e>1)Ce(s,e-1,n,r),i=r.length;else for(var u=0,l=s.length;u<l;)r[i++]=s[u++];else n||(r[i++]=s)}return r}var ke=C((function(t,e){var n=(e=Ce(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Ae(t[r],t)}return t}));function Pe(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return Z(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n}var Ee=C((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),je=xe(Ee,ct,1);function Ne(t,e,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:re(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=re();s||!1!==n.leading||(s=l);var c=e-(l-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l}function Oe(t,e,n){var r,i,o,a,s,u=function(){var l=re()-i;e>l?r=setTimeout(u,e-l):(r=null,n||(a=t.apply(s,o)),r||(o=s=null))},l=C((function(l){return s=this,o=l,i=re(),r||(r=setTimeout(u,e),n&&(a=t.apply(s,o))),a}));return l.cancel=function(){clearTimeout(r),r=o=s=null},l}function Te(t,e){return xe(e,t)}function Se(t){return function(){return!t.apply(this,arguments)}}function Le(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function Ie(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function Re(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var Fe=xe(Re,2);function Ue(t,e,n){e=Jt(e,n);for(var r,i=st(t),o=0,a=i.length;o<a;o++)if(e(t[r=i[o]],r,t))return r}function Me(t){return function(e,n,r){n=Jt(n,r);for(var i=ot(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}var Be=Me(1),De=Me(-1);function $e(t,e,n,r){for(var i=(n=Jt(n,r,1))(e),o=0,a=ot(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o}function ze(t,e,n){return function(r,i,o){var a=0,s=ot(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(c.call(r,a,s),J))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}}var qe=ze(1,Be,$e),He=ze(-1,De);function Ve(t,e,n){var r=(_e(t)?Be:Ue)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function Ke(t,e){return Ve(t,Kt(e))}function Ze(t,e,n){var r,i;if(e=Yt(e,n),_e(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=st(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t}function Ye(t,e,n){e=Jt(e,n);for(var r=!_e(t)&&st(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o}function Ge(t){return function(e,n,r,i){var o=arguments.length>=3;return function(e,n,r,i){var o=!_e(e)&&st(e),a=(o||e).length,s=t>0?0:a-1;for(i||(r=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var u=o?o[s]:s;r=n(r,e[u],u,e)}return r}(e,Yt(n,i,4),r,o)}}var We=Ge(1),Je=Ge(-1);function Xe(t,e,n){var r=[];return e=Jt(e,n),Ze(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function Qe(t,e,n){return Xe(t,Se(Jt(e)),n)}function tn(t,e,n){e=Jt(e,n);for(var r=!_e(t)&&st(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0}function en(t,e,n){e=Jt(e,n);for(var r=!_e(t)&&st(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1}function nn(t,e,n,r){return _e(t)||(t=jt(t)),("number"!=typeof n||r)&&(n=0),qe(t,e,n)>=0}var rn=C((function(t,e,n){var r,i;return D(e)?i=e:(e=$t(e),r=e.slice(0,-1),e=e[e.length-1]),Ye(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=zt(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))}));function on(t,e){return Ye(t,Zt(e))}function an(t,e){return Xe(t,Kt(e))}function sn(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=_e(t)?t:jt(t)).length;s<u;s++)null!=(r=t[s])&&r>o&&(o=r);else e=Jt(e,n),Ze(t,(function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)}));return o}function un(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=_e(t)?t:jt(t)).length;s<u;s++)null!=(r=t[s])&&r<o&&(o=r);else e=Jt(e,n),Ze(t,(function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)}));return o}var ln=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function cn(t){return t?K(t)?c.call(t):T(t)?t.match(ln):_e(t)?Ye(t,Vt):jt(t):[]}function fn(t,e,n){if(null==e||n)return _e(t)||(t=jt(t)),t[ne(t.length-1)];var r=cn(t),i=ot(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=ne(a,o),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,e)}function dn(t){return fn(t,1/0)}function pn(t,e,n){var r=0;return e=Jt(e,n),on(Ye(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")}function hn(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=Jt(r,i),Ze(n,(function(e,i){var a=r(e,i,n);t(o,e,a)})),o}}var mn=hn((function(t,e,n){Z(t,n)?t[n].push(e):t[n]=[e]})),gn=hn((function(t,e,n){t[n]=e})),vn=hn((function(t,e,n){Z(t,n)?t[n]++:t[n]=1})),yn=hn((function(t,e,n){t[n?0:1].push(e)}),!0);function bn(t){return null==t?0:_e(t)?t.length:st(t).length}function wn(t,e,n){return e in n}var xn=C((function(t,e){var n={},r=e[0];if(null==t)return n;D(r)?(e.length>1&&(r=Yt(r,e[1])),e=gt(t)):(r=wn,e=Ce(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n})),An=C((function(t,e){var n,r=e[0];return D(r)?(r=Se(r),e.length>1&&(n=e[1])):(e=Ye(Ce(e,!1,!1),String),r=function(t,n){return!nn(e,n)}),xn(t,r,n)}));function _n(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function Cn(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:_n(t,t.length-e)}function kn(t,e,n){return c.call(t,null==e||n?1:e)}function Pn(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:kn(t,Math.max(0,t.length-e))}function En(t){return Xe(t,Boolean)}function jn(t,e){return Ce(t,e,!1)}var Nn=C((function(t,e){return e=Ce(e,!0,!0),Xe(t,(function(t){return!nn(e,t)}))})),On=C((function(t,e){return Nn(t,e)}));function Tn(t,e,n,r){j(e)||(r=n,n=e,e=!1),null!=n&&(n=Jt(n,r));for(var i=[],o=[],a=0,s=ot(t);a<s;a++){var u=t[a],l=n?n(u,a,t):u;e&&!n?(a&&o===l||i.push(u),o=l):n?nn(o,l)||(o.push(l),i.push(u)):nn(i,u)||i.push(u)}return i}var Sn=C((function(t){return Tn(Ce(t,!0,!0))}));function Ln(t){for(var e=[],n=arguments.length,r=0,i=ot(t);r<i;r++){var o=t[r];if(!nn(e,o)){var a;for(a=1;a<n&&nn(arguments[a],o);a++);a===n&&e.push(o)}}return e}function In(t){for(var e=t&&sn(t,ot).length||0,n=Array(e),r=0;r<e;r++)n[r]=on(t,r);return n}var Rn=C(In);function Fn(t,e){for(var n={},r=0,i=ot(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function Un(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i}function Mn(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(c.call(t,r,r+=e));return n}function Bn(t,e){return t._chain?ct(e).chain():e}function Dn(t){return Ze(Tt(t),(function(e){var n=ct[e]=t[e];ct.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),Bn(this,n.apply(ct,t))}})),ct}Ze(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=a[t];ct.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Bn(this,n)}})),Ze(["concat","join","slice"],(function(t){var e=a[t];ct.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Bn(this,t)}}));var $n=ct,zn=Dn(r);zn._=zn;var qn=zn}},a={};function s(t){var e=a[t];if(void 0!==e)return e.exports;var n=a[t]={id:t,loaded:!1,exports:{}};return o[t].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=o,e=[],s.O=function(t,n,r,i){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],i=e[c][2];for(var a=!0,u=0;u<n.length;u++)(!1&i||o>=i)&&Object.keys(s.O).every((function(t){return s.O[t](n[u])}))?n.splice(u--,1):(a=!1,i<o&&(o=i));if(a){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,{a:e}),e},s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,n){return s.f[n](t,e),e}),[]))},s.u=function(t){return t+"-"+t+".js?v=99acfc6f3005fff45b76"},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r={},i="nextcloud:",s.l=function(t,e,n,o){if(r[t])r[t].push(e);else{var a,u;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==t||f.getAttribute("data-webpack")==i+n){a=f;break}}a||(u=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",i+n),a.src=t),r[t]=[e];var d=function(e,n){a.onerror=a.onload=null,clearTimeout(p);var i=r[t];if(delete r[t],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(t){return t(n)})),e)return e(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),u&&document.head.appendChild(a)}},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},s.j=4577,function(){var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!t;)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t}(),function(){s.b=document.baseURI||self.location.href;var t={4577:0};s.f.j=function(e,n){var r=s.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=t[e]=[n,i]}));n.push(r[2]=i);var o=s.p+s.u(e),a=new Error;s.l(o,(function(n){if(s.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,r[1](a)}}),"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,i,o=n[0],a=n[1],u=n[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(u)var c=u(s)}for(e&&e(n);l<o.length;l++)i=o[l],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(c)},n=self.webpackChunknextcloud=self.webpackChunknextcloud||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),s.nc=void 0;var u=s.O(void 0,[7874],(function(){return s(87315)}));u=s.O(u)}();
//# sourceMappingURL=core-login.js.map?v=20f8b6220660f94455a1